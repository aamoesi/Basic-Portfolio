/*
 jQuery-ajaxTransport-XDomainRequest - v1.0.3 - 2014-06-06
 https://github.com/MoonScript/jQuery-ajaxTransport-XDomainRequest
 Copyright (c) 2014 Jason Moon (@JSONMOON)
 Licensed MIT (/blob/master/LICENSE.txt)
*/
var $jscomp={scope:{},findInternal:function(g,c,b){g instanceof String&&(g=String(g));for(var e=g.length,h=0;h<e;h++){var d=g[h];if(c.call(b,d,h,g))return{i:h,v:d}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(g,c,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");g!=Array.prototype&&g!=Object.prototype&&(g[c]=b.value)};
$jscomp.getGlobal=function(g){return"undefined"!=typeof window&&window===g?g:"undefined"!=typeof global&&null!=global?global:g};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(g,c,b,e){if(c){b=$jscomp.global;g=g.split(".");for(e=0;e<g.length-1;e++){var h=g[e];h in b||(b[h]={});b=b[h]}g=g[g.length-1];e=b[g];c=c(e);c!=e&&null!=c&&$jscomp.defineProperty(b,g,{configurable:!0,writable:!0,value:c})}};
$jscomp.polyfill("Array.prototype.find",function(g){return g?g:function(c,b){return $jscomp.findInternal(this,c,b).v}},"es6-impl","es3");
define("common/config",["lib/jquery","tools/dhgate.cookie"],function(g,c){var b=(!1===/https/i.test(location.protocol)?"http://":"https://")+location.hostname,e=b.match(/(es|pt|ru|fr|de|it|ca|in|uk|au|tr|nz|mx|cl|co|pe|hk|kr|ar|jp)\.dhgate.+/i)||(window._customHost?window._customHost:"en");/(A|a)ndroid/i.test(navigator.userAgent);var h=c.DHCookieUtil,e=$.isArray(e)?e[1]:e;window._gaq&&window.ga||(window._gaq={push:function(b){"_trackEvent"==b[0]&&gtag("event",b[2],{event_category:b[1],event_label:b[3]})}},
window.ga=function(){"event"==arguments[1]&&gtag("event",a[3],{event_category:a[2],event_label:a[4]})});return{getVisitorType:function(){var b=/(http|https):\/\/(.*)(google|yahoo|bing|aol|ask|search-results|yandex)\.(.+)/i,h=/(\?q=|\&q=|\?p=|&p=|\?text=|&text=)([^&]+)/,f=/bm|([^\|]+\|){5}([^\|]+)\|.*/,c=document.referrer+document.location.href,e={_f:"",keywords:"",_ref:""},c=c.replace(/%7c/gi,"|");/\?f=bm/.test(c)?(e._f="PPC",f.test(c)&&(e.keywords=RegExp.$3)):b.test(c)&&(e._f="SEO",h.test(c)&&(e.keywords=
RegExp.$3));/(http|https):\/\/([^\/]+).*/i.test(document.referrer)&&(b=RegExp.$2,/dhgate\.com/i.test(b)||(e._ref=b));return e},isLocalStorageNameSupported:function(){try{return localStorageName in win&&win[localStorageName]}catch(d){return!1}},wwwURL:b,WWWHostName:location.hostname,wwwPATHNAME:location.pathname,wwwHASH:location.hash,hostWrite:"//dg.dhgate.com",hostRead:"//"+("en"==e?"www":e)+".dhgate.com",staticImage:"//www.dhresource.com",staticJS:"//js.dhresource.com",staticCSS:"//css.dhresource.com",
wwwSEARCH:location.search,countrys:{en:"English (EN)",es:"Espa\u00f1ol (ES)",pt:"Portugu\u00eas (PT)",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 (RU)",fr:"Fran\u00e7ais (FR)",de:"Deutsch (DE)",it:"Italiano (IT)",kr:"Korea (KR)",ar:"Arabian(AR)"},countryCur:e,ipCountry:h.getcookie("b2b_ip_country")||"",version:"up-1560761041085",b2b_nick_n:h.getcookie("b2b_nick_n"),b2b_buyer_lv:h.getcookie("b2b_buyer_lv"),buyerId:h.getcookie("b2b_buyerid")}});
define("common/langLoader",["common/config"],function(g){return{get:function(c){$.ajax({type:"GET",url:"//js.dhresource.com/multi/common/lang/msg_"+g.countryCur+".js?v="+g.version,context:window,async:!0,cache:!0,dataType:"script",success:c})}}});
(function(g){"function"===typeof define&&define.amd?(g(jQuery),define("tools/jquery.cookie",["lib/jquery"],g)):"object"===typeof exports?g(require("jquery")):g(jQuery)})(function(g){function c(b){b=h.json?JSON.stringify(b):String(b);return h.raw?b:encodeURIComponent(b)}function b(b,c){var f;if(h.raw)f=b;else a:{var d=b;0===d.indexOf('"')&&(d=d.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{d=decodeURIComponent(d.replace(e," "));f=h.json?JSON.parse(d):d;break a}catch(k){}f=void 0}return g.isFunction(c)?
c(f):f}var e=/\+/g,h=g.cookie=function(d,e,f){if(void 0!==e&&!g.isFunction(e)){f=g.extend({},h.defaults,f);if("number"===typeof f.expires){var m=f.expires,k=f.expires=new Date;k.setTime(+k+864E5*m)}return document.cookie=[h.raw?d:encodeURIComponent(d),"=",c(e),f.expires?"; expires="+f.expires.toUTCString():"",f.path?"; path="+f.path:"",f.domain?"; domain="+f.domain:"",f.secure?"; secure":""].join("")}f=d?void 0:{};for(var m=document.cookie?document.cookie.split("; "):[],k=0,l=m.length;k<l;k++){var p=
m[k].split("="),n;n=p.shift();n=h.raw?n:decodeURIComponent(n);p=p.join("=");if(d&&d===n){f=b(p,e);break}d||void 0===(p=b(p))||(f[n]=p)}return f};h.defaults={};g.removeCookie=function(b,c){if(void 0===g.cookie(b))return!1;g.cookie(b,"",g.extend({},c,{expires:-1}));return!g.cookie(b)}});
(function(g,c){if("object"===typeof exports&&"function"===typeof require)module.exports=c(require("lib/jQuery"),require("tools/jquery.cookie"));else if("function"===typeof define&&define.amd){var b=c(jQuery);g.DHCookieUtil=b.DHCookieUtil;g.DHCookieConts=b.DHCookieConts;define("tools/dhgate.cookie",["tools/jquery.cookie"],function(b){return c(jQuery,b)})}else b=c(jQuery,jCookie),g.DHCookieUtil=b.DHCookieUtil,g.DHCookieConts=b.DHCookieConts})(this,function(g,c){var b={rmcookie:function(b,d){$.removeCookie(b,
d)},addcookie:function(b,d,c){$.cookie(b,d,c)},addcookies:function(b,d,c,f){if(void 0===d)throw Error("subkey is no exist!");var h=($.cookie(b)||"").split("|"),e={};$.each(h,function(b,d){if(d.length){var f=d.split("=");e[f[0]]=f[1]}});e[d]=encodeURIComponent(c);__hasProp={}.hasOwnProperty;valueArr=[];for(var g in e)__hasProp.call(e,g)&&valueArr.push(g+"="+e[g]);this.addcookie(b,valueArr.join("|"),f)},getcookie:function(b){return $.cookie(b)},getcookies:function(b,d){if(void 0===d)throw Error("subkey is no exist!");
var c=(this.getcookie(b)||"").split("|"),c=$.map(c,function(b){b=b.split("=");if(b[0]===d)return decodeURIComponent(b[1])});return c.length?c[0]:null}},e={DOMAIN_ROOT:".dhgate.com",DOMAIN_WWW:".www.dhgate.com",DOMAIN_SELLER:".seller.dhgate.com",B_U_AU:"b_u_au",B_U_AU_BLMN:"blmn",B_U_AU_BLML:"blml",B_U_AU_ME:"me",B_U_AU_TUID:"tuid",B_U_INF:"b_u_inf",B_U_INF_BID:"bid",B_U_INF_NN:"nn",B_U_INF_DN:"dn",B_U_CC:"b_u_cc",B_U_CC_UCC:"ucc",B_U_CC_IPCC:"ipcc",B_U_CC_CTCC:"ctcc",B_UE:"b_ue",B_UE_ILOGIN:"ilogin",
B_UE_IREG:"ireg",S_UE:"s_ue",S_UE_ETIP:"etip",S_UE_ERD:"erd",S_UE_SRED:"sred",S_UE_KTIP:"ktip",S_UE_COSTIP:"costip",S_UE_P2TIP:"p2tip",S_UE_ORTIP:"ortip",S_UE_PRTIP:"prtip",B_OTH_RD:"b_oth_rd",B_OTH_RD_ICODE:"icode",B_OTHER:"b_other"};window.DHCookieUtil=b;window.DHCookieConts=e;return{DHCookieUtil:b,DHCookieConts:e}});
define("tools/template",[],function(){(function(){function g(b,e){var h=/[^a-z0-9A-Z_-]+/.test(b)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+b.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):c[b]=c[b]||g(document.getElementById(b).innerHTML);return e?h(e):h}var c={};return g})();
return function(g,c){return g=_.template(g)(c)}});"use strict";
define("common/tools/request",["common/config"],function(g){var c={};return c={request:function(){var b=g.countryCur||"en",c=arguments,h=c.length,d;1==h&&(d="string"===$.type(c[0])?{url:c[0]}:c[0]);2==h&&(d=c[1],d.url=c[0]);d.data=d.data||{};"string"===$.type(d.data)?d.data=d.data+"&lang="+b:d.data.lang=b;return $.ajax(d)},$L:function(b,c){c=c||{};return void 0===DH.I18N[b]?"":DH.I18N[b].replace(/\$\{(\w+)\}/ig,function(b,d){return void 0!==c[d]?c[d]:""})}}});
(function(g){"function"===typeof define&&define.amd?(g(jQuery),define("tools/jquery.xdomainrequest",["lib/jquery"],g)):"object"===typeof exports?module.exports=g(require("jquery")):g(jQuery)})(function(g){if(g.support.cors||!g.ajaxTransport||!window.XDomainRequest)return g;var c=/^(https?:)?\/\//i,b=/^get|post$/i,e=new RegExp("^(//|"+location.protocol+")","i");g.ajaxTransport("* text html xml json",function(h,d,l){if(h.crossDomain&&h.async&&b.test(h.type)&&c.test(h.url)&&e.test(h.url)){var f=null;
return{send:function(b,c,e){b="";var m=(d.dataType||"").toLowerCase();f=new XDomainRequest;/^\d+$/.test(d.timeout)&&(f.timeout=d.timeout);f.ontimeout=function(){c(500,"timeout")};f.onload=function(){var b="Content-Length: "+f.responseText.length+"\r\nContent-Type: "+f.contentType,d=200,h="success",e={text:f.responseText};try{if("html"===m||/text\/html/i.test(f.contentType))e.html=f.responseText;else if("json"===m||"text"!==m&&/\/json/i.test(f.contentType))try{e.json=g.parseJSON(f.responseText)}catch(x){d=
500,h="parseerror"}else if("xml"===m||"text"!==m&&/\/xml/i.test(f.contentType)){var k=new ActiveXObject("Microsoft.XMLDOM");k.async=!1;try{k.loadXML(f.responseText)}catch(x){k=void 0}if(!k||!k.documentElement||k.getElementsByTagName("parsererror").length)throw d=500,h="parseerror","Invalid XML: "+f.responseText;e.xml=k}}catch(x){throw x;}finally{c(d,h,e,b)}};f.onprogress=function(){};f.onerror=function(){c(500,"error",{text:f.responseText});console.log("error")};d.data&&(b="string"===g.type(d.data)?
d.data:g.param(d.data));f.open(h.type,h.url);f.send(b)},abort:function(){f&&(console.log("abort"),f.abort())}}}});return g});
(function(g){g.fn.extend({autocomplete:function(c,b){var e="string"==typeof c;b=g.extend({},g.Autocompleter.defaults,{url:e?c:null,data:e?null:c,delay:e?g.Autocompleter.defaults.delay:10,max:b&&!b.scroll?10:150},b);b.highlight=b.highlight||function(b){return b};b.formatMatch=b.formatMatch||b.formatItem;return this.each(function(){new g.Autocompleter(this,b)})},result:function(c){return this.bind("result",c)},search:function(c){return this.trigger("search",[c])},flushCache:function(){return this.trigger("flushCache")},
setOptions:function(c){return this.trigger("setOptions",[c])},unautocomplete:function(){return this.trigger("unautocomplete")}});g.Autocompleter=function(c,b){function e(){var d=u.selected();if(!d)return!1;var c=d.result;r=c;if(b.multiple){var f=l(n.val());1<f.length&&(c=f.slice(0,f.length-1).join(b.multipleSeparator)+b.multipleSeparator+c);c+=b.multipleSeparator}n.val(c);g("#suggestsearch").val("1");m();n.trigger("result",[d.data,d.value]);return!0}function h(){var d=u.selected2(),c=d.result,d=d.data;
if(b.multiple){var f=l(n.val());1<f.length&&(c=f.slice(0,f.length-1).join(b.multipleSeparator)+b.multipleSeparator+c);c+=b.multipleSeparator}b.filled&&b.filled.call(this,d,c);n.val(c);g("#suggestsearch").val("1")}function d(d,c){if(x==p.DEL)u.hide();else{var h=n.val();if(c||h!=r)r=h,h=f(h),h.length>=b.minChars?(n.addClass(b.loadingClass),b.matchCase||(h=h.toLowerCase()),q(h,k,m)):(n.removeClass(b.loadingClass),u.hide())}}function l(d){if(!d)return[""];d=d.split(b.multipleSeparator);var c=[];g.each(d,
function(b,d){g.trim(d)&&(c[b]=g.trim(d))});return c}function f(d){if(!b.multiple)return d;d=l(d);return d[d.length-1]}function m(){var d=u.visible();u.hide();clearTimeout(v);n.removeClass(b.loadingClass);b.mustMatch&&n.search(function(d){d||(b.multiple?(d=l(n.val()).slice(0,-1),n.val(d.join(b.multipleSeparator)+(d.length?b.multipleSeparator:""))):n.val(""))});d&&g.Autocompleter.Selection(c,c.value.length,c.value.length)}function k(d,h){if(h&&h.length&&w){n.removeClass(b.loadingClass);u.display(h,
d);var e=h[0].value;b.autoFill&&f(n.val()).toLowerCase()==d.toLowerCase()&&x!=p.BACKSPACE&&(n.val(n.val()+e.substring(f(r).length)),g.Autocompleter.Selection(c,r.length,r.length+e.length));u.show()}else m()}function q(d,h,e){b.matchCase||(d=d.toLowerCase());var m=g("#catalogId").val(),k=t.load(d+m);if(k&&k.length)h(d,k);else if("string"==typeof b.url&&0<b.url.length){var l={timestamp:+new Date};g.each(b.extraParams,function(b,d){l[b]="function"==typeof d?d():d});DH.request({mode:"abort",port:"autocomplete"+
c.name,dataType:b.dataType,url:b.url,data:g.extend({q:f(d),c:m,limit:b.max},l),success:function(c){var f;if(!(f=b.parse&&b.parse(c))){f=[];c=c.split("\n");for(var e=0;e<c.length;e++){var k=g.trim(c[e]);k&&(k=k.split("|"),f[f.length]={data:k,value:k[0],result:b.formatResult&&b.formatResult(k,k[0])||k[0]})}}t.add(d+m,f);h(d,f)}})}else u.emptyList(),e(d)}var p={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8},n=g(c).attr("autocomplete","off").addClass(b.inputClass),
v,r="",t=g.Autocompleter.Cache(b),w=0,x,A={mouseDownOnSelect:!1},u=g.Autocompleter.Select(b,c,e,A),z;g.browser.opera&&g(c.form).bind("submit.autocomplete",function(){if(z)return z=!1});n.bind((g.browser.opera?"keypress":"keydown")+".autocomplete",function(c){x=c.keyCode;switch(c.keyCode){case p.UP:c.preventDefault();u.visible()?-1==u.prev()?n.val(r):h():d(0,!0);break;case p.DOWN:c.preventDefault();u.visible()?-1==u.next()?n.val(r):h():d(0,!0);break;case p.PAGEUP:c.preventDefault();u.visible()?u.pageUp()?
n.val(r):h():d(0,!0);break;case p.PAGEDOWN:c.preventDefault();u.visible()?-1==u.pageDown()?n.val(r):h():d(0,!0);break;case b.multiple&&","==g.trim(b.multipleSeparator)&&p.COMMA:case p.TAB:case p.RETURN:if(e())return c.preventDefault(),z=!1;break;case p.ESC:u.hide();break;default:clearTimeout(v),v=setTimeout(d,b.delay)}}).focus(function(){w++}).blur(function(){w=0;A.mouseDownOnSelect||(clearTimeout(v),v=setTimeout(m,200))}).click(function(){1<w++&&!u.visible()&&d(0,!0)}).bind("search",function(){function b(b,
c){var f;if(c&&c.length)for(var h=0;h<c.length;h++)if(c[h].result.toLowerCase()==b.toLowerCase()){f=c[h];break}"function"==typeof d?d(f):n.trigger("result",f&&[f.data,f.value])}var d=1<arguments.length?arguments[1]:null;g.each(l(n.val()),function(d,c){q(c,b,b)})}).bind("flushCache",function(){t.flush()}).bind("setOptions",function(d,c){g.extend(b,c);"data"in c&&t.populate()}).bind("unautocomplete",function(){u.unbind();n.unbind();g(c.form).unbind(".autocomplete")})};g.Autocompleter.defaults={inputClass:"ac_input",
resultsClass:"head-related-search",loadingClass:"ac_loading",appendBox:!1,minChars:1,delay:400,matchCase:!1,matchSubset:!0,matchContains:!1,cacheLength:10,max:100,mustMatch:!1,extraParams:{},selectFirst:!0,formatItem:function(c){return c[0]},formatMatch:null,autoFill:!1,width:0,multiple:!1,multipleSeparator:", ",highlight:function(c,b){return c.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+b.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},
filled:!1,scroll:!0,scrollHeight:180};g.Autocompleter.Cache=function(c){function b(b,d){c.matchCase||(b=b.toLowerCase());var f=b.indexOf(d);return-1==f?!1:0==f||c.matchContains}function e(b,h){f>c.cacheLength&&d();l[b]||f++;l[b]=h}function h(){if(!c.data)return!1;var b={},d=0;c.url||(c.cacheLength=1);b[""]=[];for(var f=0,h=c.data.length;f<h;f++){var l=c.data[f],l="string"==typeof l?[l]:l,v=c.formatMatch(l,f+1,c.data.length);if(!1!==v){var r=v.charAt(0).toLowerCase();b[r]||(b[r]=[]);l={value:v,data:l,
result:c.formatResult&&c.formatResult(l)||v};b[r].push(l);d++<c.max&&b[""].push(l)}}g.each(b,function(b,d){c.cacheLength++;e(b,d)})}function d(){l={};f=0}var l={},f=0;setTimeout(h,25);return{flush:d,add:e,populate:h,load:function(d){if(!c.cacheLength||!f)return null;if(!c.url&&c.matchContains){var h=[],e;for(e in l)if(0<e.length){var m=l[e];g.each(m,function(c,f){b(f.value,d)&&h.push(f)})}return h}if(l[d])return l[d];if(c.matchSubset)for(e=d.length-1;e>=c.minChars;e--)if(m=l[d.substr(0,e)])return h=
[],g.each(m,function(c,f){b(f.value,d)&&(h[h.length]=f)}),h;return null}}};g.Autocompleter.Select=function(c,b,e,h){function d(){v&&(r=g("<div/>").hide().addClass(c.resultsClass).css("position","absolute").appendTo(c.appendTo||document.body),t=g("<ul/>").appendTo(r).mouseover(function(b){l(b).nodeName&&"LI"==l(b).nodeName.toUpperCase()&&(q=g("li",t).removeClass(m.ACTIVE).index(l(b)),g(l(b)).addClass(m.ACTIVE))}).click(function(d){g(l(d)).addClass(m.ACTIVE);e();b.focus();3<g(l(d)).index()&&gtag&&gtag("event",
"searchkey",{event_category:"HP",event_label:g(l(d)).index()});return!1}).mousedown(function(){h.mouseDownOnSelect=!0}).mouseup(function(){h.mouseDownOnSelect=!1}).mouseleave(function(){g("li",t).removeClass(m.ACTIVE)}),w=g("<div/>").hide().addClass("relatedmore").appendTo(r),0<c.width&&r.css("width",c.width),v=!1)}function l(b){for(b=b.target;b&&"LI"!=b.tagName;)b=b.parentNode;return b?b:[]}function f(b){k.slice(q,q+1).removeClass(m.ACTIVE);q+=b;-1>q?q=k.size()-1:q>=k.size()&&(q=-1);b=k.slice(q,
q+1).addClass(m.ACTIVE);if(c.scroll){var d=0;k.slice(0,q).each(function(){d+=this.offsetHeight});d+b[0].offsetHeight-t.scrollTop()>t[0].clientHeight?t.scrollTop(d+b[0].offsetHeight-t.innerHeight()):d<t.scrollTop()&&t.scrollTop(d)}}var m={ACTIVE:"ac_over"},k,q=-1,p,n="",v=!0,r,t,w;return{display:function(b,f){d();p=b;n=f;t.empty();var h;h=p.length;h=c.max&&c.max<h?c.max:h;for(var e=!0,l=0;l<h;l++)if(p[l]){var r=c.formatItem(p[l].data,l+1,h,p[l].value,n);!1!==r&&(e&&!p[l].data[2]&&(g('<p class="head-related-borders"></p>').appendTo(t),
e=!1),r=g("<li/>").html(c.highlight(r,n)).addClass(0==l%2?"ac_even":"ac_odd").appendTo(t)[0],p[l].result=p[l].result.replace("<strong>","").replace("</strong>",""),g.data(r,"ac_data",p[l]))}n&&0<n.length?w.html('<p class="head-related-borders"></p><a href="//www.dhgate.com/wholesale/sellerlist.do?keyword='+n+'" >'+$L("header_search_store")+" <strong>"+n+"</strong></a>"):w.empty();w.hide();k=t.find("li");c.selectFirst&&(k.slice(0,1).addClass(m.ACTIVE),q=0);g.fn.bgiframe&&t.bgiframe()},next:function(){f(1);
return q},prev:function(){f(-1);return q},pageUp:function(){0!=q&&0>q-8?f(-q):f(-8);return q},pageDown:function(){q!=k.size()-1&&q+8>k.size()?f(k.size()-1-q):f(8);return q},hide:function(){r&&r.hide();k&&k.removeClass(m.ACTIVE);q=-1},visible:function(){return r&&r.is(":visible")},current:function(){return this.visible()&&(k.filter("."+m.ACTIVE)[0]||c.selectFirst&&k[0])},show:function(){var d=g(b).offset();c.width=g(".head-Search-keywords").width();"ar"==DH.lang?r.css({width:"string"==typeof c.width||
0<c.width?c.width+30:g(b).outerWidth(!0),top:d.top+b.offsetHeight,left:d.left-15,margin:"0px",zIndex:999}).show():r.css({width:"string"==typeof c.width||0<c.width?c.width+14:g(b).outerWidth(!0),top:d.top+b.offsetHeight,left:d.left-15,margin:"0px",zIndex:999}).show();if(c.scroll&&(t.scrollTop(0),t.css({maxHeight:c.scrollHeight,overflow:"auto"}),g.browser.msie&&"undefined"===typeof document.body.style.maxHeight)){var f=0;k.each(function(){f+=this.offsetHeight});d=f>c.scrollHeight;t.css("height",d?c.scrollHeight:
f);d||k.width(t.width()-parseInt(k.css("padding-left"))-parseInt(k.css("padding-right")))}},selected:function(){var b=k&&k.filter("."+m.ACTIVE).removeClass(m.ACTIVE);return b&&b.length&&g.data(b[0],"ac_data")},selected2:function(){var b=k&&k.filter("."+m.ACTIVE);return b&&b.length&&g.data(b[0],"ac_data")},emptyList:function(){t&&t.empty()},unbind:function(){r&&r.remove()}}};g.Autocompleter.Selection=function(c,b,e){if(c.createTextRange){var h=c.createTextRange();h.collapse(!0);h.moveStart("character",
b);h.moveEnd("character",e);h.select()}else!c.setSelectionRange&&c.selectionStart&&(c.selectionStart=b,c.selectionEnd=e);c.focus()}})(jQuery);
define("tools/customdate",["common/config"],function(g){g=function(c){function b(b){var c={};c.day=~~(b/864E5);c.hours=~~(b/36E5)%24;c.minutes=~~(b/6E4)%60;c.seconds=60==Math.floor(~~(b%6E4)/1E3)||-60==Math.floor(~~(b%6E4)/1E3)?0:Math.floor(~~(b%6E4)/1E3);return c}this.version=1;this.st=0;this.timeout=null;this.diff=function(c,h){c=this.parseDate(c);h=this.parseDate(h);return null==c||null==h?null:b(h-c)};this.resetTimes=function(b,c){this.st=this.parseDate(c)-this.parseDate(b)};this.timer=function(c){var h=
this,d;h.st=0;if(2<arguments.length)try{h.st=this.parseDate(arguments[1])-this.parseDate(arguments[0]),d=arguments[2]||function(){},h.timeout=setInterval(function(){d.call(h,b(h.st),h.st-1E3);h.st-=1E3;0>h.st&&clearInterval(h.timeout)},1E3)}catch(l){}else return b(arguments[0]||0)}};g.prototype={parseDate:function(c){if(c instanceof Date)return c;if("string"==typeof c){var b=new Date(c.replace(/\-/g,"/"));if(b.getTime())return b;if((b=c.match(/^ *(\d{4})-(\d{1,2})-(\d{1,2}) *$/))&&3<b.length)return new Date(parseInt(b[1]),
parseInt(b[2])-1,parseInt(b[3]));if((b=c.match(/^ *(\d{4})-(\d{1,2})-(\d{1,2}) +(\d{1,2}):(\d{1,2}):(\d{1,2}) *$/))&&6<b.length)return new Date(parseInt(b[1]),parseInt(b[2])-1,parseInt(b[3]),parseInt(b[4]),parseInt(b[5]),parseInt(b[6]));if((b=c.match(/^ *(\d{4})-(\d{1,2})-(\d{1,2}) +(\d{1,2}):(\d{1,2}):(\d{1,2})\.(\d{1,9}) *$/))&&7<b.length)return new Date(parseInt(b[1]),parseInt(b[2])-1,parseInt(b[3]),parseInt(b[4]),parseInt(b[5]),parseInt(b[6]),parseInt(b[7]))}else return this.numberToDate(c);return null},
format:function(c,b){c=this.parseDate(c);if(null==c)return null;if(c){var e={"M+":c.getMonth()+1,"d+":c.getDate(),"h+":c.getHours(),"m+":c.getMinutes(),"s+":c.getSeconds(),"q+":Math.floor((c.getMonth()+3)/3),S:c.getMilliseconds()};/(y+)/.test(b)&&(b=b.replace(RegExp.$1,(c.getFullYear()+"").substr(4-RegExp.$1.length)))}for(var h in e)(new RegExp("("+h+")")).test(b)&&(b=b.replace(RegExp.$1,1==RegExp.$1.length?e[h]:("00"+e[h]).substr((""+e[h]).length)));return b},stringToDate:function(c){var b=Date.parse(c),
b=new Date(b);isNaN(b)&&(c=c.split("-"),b=new Date(c[0],c[1],c[2]));return b},numberToDate:function(c){c=new Date(c);return isNaN(c)?null:c}};return g});
define("tools/countdown",["common/config","tools/customdate"],function(g,c){var b=function(b){this.config={panle:"#J-promo-11 span",endTime:null,callback:function(b,d){b.html((0<d.day?d.day+"d ":"")+d.hours+":"+d.minutes+":"+d.seconds)},timer:900};this.event=this.constructor.event=$({});this.config=$.extend(!0,this.config,b);this.$panle=$(this.config.panle);this.endTime=this.$panle.attr("endTime")||this.config.endTime;0<this.$panle.length&&this.endTime&&this.initiliaze()};b.prototype={constructor:b,
initiliaze:function(){this.countdown=new c;this.getStartTime()},getStartTime:function(){var b=this;$.ajax({url:"//www.dhgate.com/common/buyertime.do",dataType:"jsonp",success:function(c){b.serverTime=c.time;b.handerMain(c.time)}})},handerMain:function(b){var c=this;c._init?c.resetTimes(c.handlerTime(b)):(c._init=!0,c.initTimes(c.handlerTime(b)));c._timer=this.config.timer;c.timer=setInterval(function(){0>=c._timer?(clearInterval(c.timer),c.timer=null,c.getStartTime()):c._timer--},1E3)},initTimes:function(b,
c){var d=this,h=this.config.callback||function(){};this.countdown.timer(b,c||this.endTime,function(b,c){var f=parseInt(b.day),e=parseInt(b.hours),m=parseInt(b.minutes),l=parseInt(b.seconds);d.serverTime=parseInt(d.serverTime);d.serverTime+=1E3;h.call(d,d.$panle,{day:0>f?0:f,hours:9>=e?0>e?"00":"0"+e:e,minutes:9>=m?0>m?"00":"0"+m:m,seconds:9>=l?0>l?"00":"0"+l:l});d.$panle.show()})},resetTimes:function(b,c){this.countdown.resetTimes(b,c||this.endTime)},handlerTime:function(b){b=parseInt(b);b=new Date(b);
var c=b.getTimezoneOffset();b.setTime(b.getTime()+6E4*c+288E5);return b}};return b});
define("common/feedback",["common/config","tools/dhgate.cookie"],function(g){g=function(c){this.options=$.extend({el:"#J_FeedBack",$main:".main-content",$goTop:"#J_GoTop",$survey:"#J_Survey",selector:{hover:"-j-fui-fbar"},hpx:10,html:!1},c||{});this.el=$(this.options.el);this.$main=$(this.options.$main);this.$goTop=$(this.options.$goTop);this.$survey=$(this.options.$survey);this.isIE6=$.browser.msie&&"6.0"==$.browser.version&&!$.support.style;this.init()};g.prototype={init:function(){this.bind()},
bind:function(){var c=$(window);c.height();c.width();this.el.css("z-index",99999);this.$goTop.live("click",this.goTopHandler);c.bind("scroll",$.proxy(this.scroll,this));this.el.find("."+this.options.selector.hover+"-hover").bind("mouseenter",$.proxy(this.mouseEnter,this)).bind("mouseleave",$.proxy(this.mouseLeave,this)).bind("click",$.proxy(this.mobileClick,this));this.resetPosition();this.el.show();this.QRCode()},scroll:function(c){c=$(window);var b=c.height();c.width();c.scrollTop()>b?this.$goTop.show():
this.$goTop.hide();this.isIE6?this.el.addClass("fixed-ie6"):this.el.removeClass("fixed-ie6")},mobileClick:function(c){c=$(c.target);var b=this.options.selector.hover+"-hover",e=c.attr("data-link");c.hasClass(b)&&e&&window.open(c.attr("data-link"))},mouseEnter:function(c){this.el.find("."+(this.options.selector.hover+"-tip")).show()},mouseLeave:function(c){this.el.find("."+(this.options.selector.hover+"-tip")).hide()},QRCode:function(){try{var c=$(".layerQROut");DHCookieUtil.getcookies("b_oth_b","qrcode")?
c.remove():(c.show(),c.find(".icon-sclose").bind("click",function(){DHCookieUtil.addcookies("b_oth_b","qrcode","1",{domain:".www.dhgate.com",expires:30,path:"/"});c.remove()}))}catch(b){}},resetPosition:function(){this.el.css("right",this.options.hpx||10)},goTopHandler:function(){$("html, body").animate({scrollTop:0},500,function(){$("html, body").unbind("DOMMouseScroll mousewheel")}).one("DOMMouseScroll mousewheel",function(){$("html, body").stop()})}};return g});
define("common/googletranslate",["common/config"],function(g){var c=function(b){this.config={wrap:"#t-Language",trigger:"#t-Language a",panle:"#t-Language-List",activeClass:"t-active"};this.setoptions(b);this.events=this.constructor.events=$({});this.initialize();this.flag=!1};c.prototype={constructor:c,initialize:function(){this.$wrap=$(this.config.wrap);this.$trigger=$(this.config.trigger);this.$panle=$(this.config.panle);this.initEvents();this.initTranslate()},initTranslate:function(b){b=document.createElement("script");
var c=document.getElementsByTagName("script")[0];window.googleTranslateElementInit=this.translateElement;b.type="text/javascript";b.async=!0;b.src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit";c.parentNode.insertBefore(b,c)},translateElement:function(){this.flag||(new google.translate.TranslateElement({pageLanguage:g.countryCur||"en",autoDisplay:!1,layout:google.translate.TranslateElement.InlineLayout.SIMPLE},"google_translate_element"),this.flag=!0)},setoptions:function(b){this.config=
$.extend(!0,this.config,b||{})},initEvents:function(){var b=this;this.events.on("translate:show",$.proxy(this.show,this));this.events.on("translate:hide",$.proxy(this.hide,this));this.$trigger.on("click",$.proxy(this.click,this));$(document).click(function(c){$(c.target).closest("[translate-type]").length||b.events.trigger("translate:hide")})},click:function(b){this.events.trigger("translate:show")},show:function(){this.$panle.show();this.addStyle()},hide:function(){this.$panle.hide();this.removeStyle()},
addStyle:function(){var b=this.$wrap.attr("page-type");b&&"1"==b&&this.$wrap.addClass(this.config.activeClass)},removeStyle:function(){var b=this.$wrap.attr("page-type");b&&"1"==b&&this.$wrap.removeClass(this.config.activeClass)}};return c});
define("common/share/webLinkShare",["common/config"],function(g){function c(b,c,h){var d="",e=window.location.href,f=$("#canonicalUrl").attr("href");void 0==f?0<e.indexOf("#")&&(e=e.substring(0,e.indexOf("#"))):e=f;var m="";"pinterest"==b&&(m=$("#firstBImage >span >img").attr("src"));""!=m&&void 0!=m&&(m=encodeURIComponent(m));f=encodeURIComponent(e);d=encodeURIComponent(c||d);h=encodeURIComponent(h);var k,g=!0;if("email"==b)b=document.createElement("a"),b.setAttribute("href","mailto:?subject=Your friend recommends this product (via DHgate.com)&body="+
c.replace(/\&+|\@+|\'+|"+/g,"")+f),b.setAttribute("style","display:none;"),b.innerHTML="email",document.body.appendChild(b),b.click();else{switch(b){case "del.icio.us":k="https://delicious.com/post?title="+d+"&url="+f;break;case "digg":k="http://digg.com/submit?phase=2&url="+f+"&title="+d+"&bodytext="+h+"&topic=tech_deals";break;case "reddit":k="http://reddit.com/submit?url="+f+"&title="+d;break;case "furl":k="http://www.furl.net/savedialog.jsp?t="+d+"&u="+f;break;case "rawsugar":k="http://www.rawsugar.com/home/extensiontagit/?turl="+
f+"&tttl="+d;break;case "stumbleupon":k="http://www.stumbleupon.com/submit?url="+f+"&title="+d;break;case "facebook":k="http://www.facebook.com/share.php?src=bm&v=4&u="+f+"&t="+d;break;case "technorati":k="http://technorati.com/faves?sub=favthis&add="+f;break;case "spurl":k="http://www.spurl.net/spurl.php?v=3&title="+d+"&url="+f;break;case "simpy":k="http://www.simpy.com/simpy/LinkAdd.do?title="+d+"&href="+f;break;case "google":k="http://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk="+f+
"&title="+d;break;case "netscape":k="http://www.netscape.com/submit/?U="+f+"&T="+d+"&C="+h;break;case "slashdot":k="http://slashdot.org/bookmark.pl?url="+e+"&title="+d;break;case "backflip":k="http://www.backflip.com/add_page_pop.ihtml?title="+d+"&url="+f;break;case "bluedot":k="http://bluedot.us/Authoring.aspx?u="+f+"&t="+d;break;case "kaboodle":k="http://www.kaboodle.com/za/selectpage?p_pop=false&pa=url&u="+f;break;case "squidoo":k="http://www.squidoo.com/lensmaster/bookmark?"+f;break;case "twitter":k=
"https://twitter.com/intent/tweet?status="+d+":+"+f;break;case "pinterest":k="http://pinterest.com/pin/create/button/?url="+f+"&media="+m+"&description="+d;break;case "vk":k="http://vk.com/share.php?url="+e;break;case "bluedot":k="http://blinkbits.com/bookmarklets/save.php?v=1&source_url="+f+"&title="+d;break;case "blinkList":k="http://blinkbits.com/bookmarklets/save.php?v=1&source_url="+f+"&title="+d;break;case "linkedin":k="http://www.linkedin.com/cws/share?url="+f+"&title="+d;break;case "googleplus":k=
"https://plus.google.com/share?url="+f;break;case "browser":bookmarksite(c,e),g=!1}1==g&&window.open(k,"bookmarkWindow")}}window.description="";window.title=window.document.title;return window.loadPage=c});
define("initHeader/favmodule",["common/config","lib/backbone","tools/dhgate.cookie"],function(g,c,b){function e(b,c){var d=/[^a-z0-9A-Z_-]+/.test(b)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+b.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):cache[b]=cache[b]||e(document.getElementById(b).innerHTML);
return c?d(c):d}function h(b,c,f){var d=b.offset(),h=d.left,d=d.top,e=h+(f?b.outerWidth():b.width());b=d+(f?b.outerHeight():b.height());c&&(c.width&&(e+=c.width),c.left&&(h-=c.left),c.top&&(d-=c.top),c.height&&(b+=c.height));return{left:h,top:d,right:e,bottom:b}}c=function(b){var c="#"+(window.tversion||"hp1806");this.track=c;c={hoverEl:"#j-toolbar-fav",hoverBody:".head-favorites-pro",loading:".head-loading",listWrap:".js-list",empty:".js-empty",activeClass:"head-active",notLoginCls:"",noDataCls:"",
hasDataCls:"head-favorites-prolist",uri:"/product/api/index.json",param:{place:"favorite"},hintNotLogin:"<p>"+$L("DH_TEXT_1008")+'</p><p><a href="https://secure.dhgate.com/usr/signin.do'+c+'_favlayer-signin">'+$L("common_siginin")+" </a> "+$L("DH_TEXT_1016")+' <a href="https://secure.dhgate.com/usr/register.do'+c+'_favlayer-join">'+$L("DH_TEXT_1015")+"</a></p>",isJSONP:!1,hintNoData:"<p>"+$L("DH_TEXT_1009")+" </p>",tpl:'<%for(var i=0;i<data.length;i++){%><%var d=data[i];%><li style="position:relative"><div class="favorites-pro-img"><a href="<%=d.url%>"><img src="//www.dhresource.com/<%=d.img%>" width="60" height="60"></a></div><div style="margin-left: 70px;"><span class="favorites-pro-name"><a href="<%=d.url%>"><%=d.name%></a></span><div class="clearfix"><span class="favorites-pro-price"><%=d.priceStr%></span></div></div></li><%}%>'};
b=$.extend(c,b);this.initElements(b);this.initEvents()};c.prototype.initElements=function(b){this.options=b;this.hoverEl=$(b.hoverEl);this.hoverBody=this.hoverEl.find(b.hoverBody);this.loadingEl=this.hoverEl.find(b.loading);this.emptyEl=this.hoverEl.find(b.empty);this.listBox=this.hoverEl.find(b.listWrap);this.listEl=this.listBox.find("ul");this.rdata=[];this.requestCount=0;this.maxCount=40;this.hoverBody.find(".head-title").find("a").attr("href","//dg.dhgate.com/favorite/proddetaillist.do"+this.track+
"_favlayer-fav")};c.prototype.initEvents=function(){var b=this,c=b.options.activeClass,f,e=!1,k=function(c){$(this);var d=c.pageX;c=c.pageY;var e=h(f,{height:50}),m=h(b.hoverBody);d>e.left&&d<e.right&&c>e.top&&c<e.bottom||d>m.left&&d<m.right&&c>m.top&&c<m.bottom||g()},g=function(){e=!1;b.hoverBody.hide();f.removeClass(c)};b.hoverEl.hover(function(d){e||($(this).addClass(c),f=$(this),b.hoverBody.show(),b.login=DHCookieUtil.getcookie("b2b_b_t_v2")?1:0,b.options.need_not_login&&(b.login=1),b.fnTrack(),
b.total||b.request(),e=!0)},k);b.hoverBody.mouseleave(k);b.hoverEl.find(".head-close").click(g);var p=0;b.listBox.bind("scroll",function(){var c=$(this).scrollTop();if(!(c<p)){p=c;var d=$(this).children().height(),f=$(this).height();10>d-c-f&&b.request()}})};c.prototype.getData=function(b){var c=$.Deferred(),d=this;if(d.options.isJSONP)h="get",e=g.hostRead+d.options.uri,q="jsonp";else var h="post",e=d.options.uri,q="json";d.loading=1;d.showLoading();$.ajax({url:e,type:h,data:b,dataType:q,cache:!1,
success:function(b){d.loading=0;d.hideLoading();200==b.code?c.resolve(b.result):c.resolve([])},error:function(b){console.log(b);d.loading=0;d.hideLoading()}});return c.promise()};c.prototype.showLoading=function(){this.loadingEl.show()};c.prototype.hideLoading=function(){this.loadingEl.hide()};c.prototype.showHintEmpty=function(b,c){this.emptyEl.html(b).show();this.hoverBody.removeClass(this.options.notLoginCls).removeClass(this.options.hasDataCls).removeClass(this.options.noDataCls).addClass(c);
this.hoverBody.find(".head-title > a").hide()};c.prototype.inArray=function(b,c,f){for(var d=0;d<b.length;d++)if(c[f]==b[d][f])return!0;return!1};c.prototype.request=function(){var b=this,c=this.options.param;b.requestCount++;c.num=100*b.requestCount;if(!b.loading){this.hoverEl.find(this.options.empty).hide();var f=b.listEl.find("li").length-1;this.hoverBody.width(f?328:260);if(!(0<f&&f>=b.total)){if(!b.login)return b.showHintEmpty(b.options.hintNotLogin,b.options.notLoginCls);$.when(b.getData(c)).done(function(d){if(1>
d.length)return b.showHintEmpty(b.options.hintNoData,b.options.noDataCls);b.hoverBody.width(328).removeClass(b.options.notLoginCls).removeClass(b.options.noDataCls).addClass(b.options.hasDataCls);d.length<c.num&&(b.total=d.length);d.length>b.maxCount&&(d=d.slice(0,40));for(var f=[],h=0;h<d.length;h++)b.inArray(b.rdata,d[h],"itemcode")||(f.push(d[h]),b.rdata.push(d[h]));6<f.length&&b.listBox.css({height:"488px",overflowY:"auto"});d=b.buildHTML(f);b.loadingEl.before(d)})}}};c.prototype.buildHTML=function(b,
c){for(var d=this.options.tpl,h=0;h<b.length;h++){var k=b[h];k.priceStr=k.highPrice!=k.lowPrice?"<strong>US $"+k.lowPrice+" - "+k.highPrice+"</strong> / "+k.measure:"<strong>US $"+(k.highPrice||k.lowPrice||"0")+"</strong> / "+k.measure;k.url+=this.track+"_favlayer-"+(h+1)}return e(d,{data:b})};c.prototype.fnTrack=function(b,c){try{_dhq.push(["setVar","pt","main_fav"]),_dhq.push(["setVar","site","www"]),_dhq.push(["setVar","lang","en"]),_dhq.push(["event","Public_S0003"])}catch(f){}};return c});
define("initHeader/viewedmodule",["common/config","lib/backbone","tools/dhgate.cookie"],function(g,c,b){function e(b,c){var d=/[^a-z0-9A-Z_-]+/.test(b)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+b.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):cache[b]=cache[b]||e(document.getElementById(b).innerHTML);
return c?d(c):d}function h(b,c,f){var d=b.offset(),h=d.left,d=d.top,e=h+(f?b.outerWidth():b.width());b=d+(f?b.outerHeight():b.height());c&&(c.width&&(e+=c.width),c.left&&(h-=c.left),c.top&&(d-=c.top),c.height&&(b+=c.height));return{left:h,top:d,right:e,bottom:b}}c=function(b){var c="#"+(window.tversion||"hp1806");this.track=c;c={hoverEl:"#j-toolbar-viewed",hoverBody:".head-viewed-pro",loading:".head-loading",listWrap:".js-list",empty:".js-empty",activeClass:"head-active",notLoginCls:"",noDataCls:"head-viewed-prompt",
hasDataCls:"head-viewed-prolist",uri:"/product/api/index.json",param:{place:"viewed"},hintNotLogin:"<p>"+$L("DH_TEXT_1010")+'</p><p><a href="https://secure.dhgate.com/usr/signin.do'+c+'_viewedlayer-signin"> '+$L("common_siginin")+" </a> "+$L("DH_TEXT_1016")+' <a href="https://secure.dhgate.com/usr/register.do'+c+'_viewedlayer-join">'+$L("DH_TEXT_1015")+"</a></p>",isJSONP:!1,hintNoData:"<p> "+$L("DH_TEXT_1010")+"</p>",tpl:'<%for(var i=0;i<data.length;i++){%><%var d=data[i];%><li style="position:relative"><div class="viewed-pro-img"><a href="<%=d.url%>"><img src="//www.dhresource.com/<%=d.img%>" width="60" height="60"></a></div><div style="margin-left: 70px;"><span class="viewed-pro-name"><a href="<%=d.url%>"><%=d.name%></a></span><div class="clearfix"><span class="pro-price"><%=d.priceStr%></span></div></div></li><%}%>'};
b=$.extend(c,b);this.initElements(b);this.initEvents()};c.prototype.initElements=function(b){this.options=b;this.hoverEl=$(b.hoverEl);this.hoverBody=this.hoverEl.find(b.hoverBody);this.loadingEl=this.hoverEl.find(b.loading);this.emptyEl=this.hoverEl.find(b.empty);this.listBox=this.hoverEl.find(b.listWrap);this.listEl=this.listBox.find("ul");this.rdata=[];this.requestCount=0;this.maxCount=40};c.prototype.initEvents=function(){var b=this,c=b.options.activeClass,f,e=!1,k=function(c){$(this);var d=c.pageX;
c=c.pageY;var e=h(f,{height:50}),k=h(b.hoverBody);d>e.left&&d<e.right&&c>e.top&&c<e.bottom||d>k.left&&d<k.right&&c>k.top&&c<k.bottom||g()},g=function(){e=!1;b.hoverBody.hide();f.removeClass(c)};b.hoverEl.hover(function(d){e||($(this).addClass(c),f=$(this),b.hoverBody.show(),b.login=DHCookieUtil.getcookie("b2b_b_t_v2")?1:0,b.options.need_not_login&&(b.login=1),b.fnTrack(),b.total||b.request(),e=!0)},k);b.hoverBody.mouseleave(k);b.hoverEl.find(".head-close").click(g);var p=0;b.listBox.bind("scroll",
function(){var c=$(this).scrollTop();if(!(c<p)){p=c;var d=$(this).children().height(),f=$(this).height();10>d-c-f&&b.request()}})};c.prototype.inArray=function(b,c,f){for(var d=0;d<b.length;d++)if(c[f]==b[d][f])return!0;return!1};c.prototype.getData=function(b){var c=$.Deferred(),d=this;if(d.options.isJSONP)h="get",e=g.hostRead+d.options.uri,q="jsonp";else var h="post",e=d.options.uri,q="json";d.loading=1;d.showLoading();$.ajax({url:e,type:h,data:b,dataType:q,cache:!1,success:function(b){d.loading=
0;d.hideLoading();200==b.code?c.resolve(b.result):c.resolve([])},error:function(b){console.log(b);d.loading=0;d.hideLoading()}});return c.promise()};c.prototype.showLoading=function(){this.loadingEl.show()};c.prototype.hideLoading=function(){this.loadingEl.hide()};c.prototype.showHintEmpty=function(b,c){this.emptyEl.html(b).show();this.hoverBody.removeClass(this.options.notLoginCls).removeClass(this.options.hasDataCls).removeClass(this.options.noDataCls).addClass(c)};c.prototype.request=function(b){this.fnTrack();
var c=this.options.param,d=this;d.requestCount++;c.num=100*d.requestCount;d.loading||(this.hoverEl.find(this.options.empty).hide(),b=d.listEl.find("li").length-1,this.hoverBody.width(b?328:260),0<b&&b>=d.total||$.when(d.getData(c)).done(function(b){if(!d.login&&1>b.length)return d.showHintEmpty(d.options.hintNotLogin,d.options.notLoginCls);if(1>b.length)return d.showHintEmpty(d.options.hintNoData,d.options.noDataCls);d.hoverBody.width(328).removeClass(d.options.notLoginCls).removeClass(d.options.noDataCls).addClass(d.options.hasDataCls);
b.length<c.num&&(d.total=b.length);b.length>d.maxCount&&(b=b.slice(0,40));for(var h=[],f=0;f<b.length;f++)d.inArray(d.rdata,b[f],"itemcode")||(h.push(b[f]),d.rdata.push(b[f]));6<h.length&&d.listBox.css({height:"488px",overflowY:"auto"});b=d.buildHTML(h);d.loadingEl.before(b)}))};c.prototype.buildHTML=function(b,c){for(var d=this.options.tpl,h=0;h<b.length;h++){var k=b[h];k.priceStr=k.highPrice!=k.lowPrice?"<strong>US $"+k.lowPrice+" - "+k.highPrice+"</strong> / "+k.measure:"<strong>US $"+(k.highPrice||
k.lowPrice||"0")+"</strong> / "+k.measure;k.url+=this.track+"_viewedlayer-"+(h+1)}return e(d,{data:b})};c.prototype.fnTrack=function(){try{_dhq.push(["setVar","pt","main_viewed"]),_dhq.push(["setVar","site","www"]),_dhq.push(["setVar","lang","en"]),_dhq.push(["event","Public_S0003"])}catch(d){}};return c});
define("initHeader/history",["common/tools/request"],function(g){var c=function(b){b=b||{};this.options=$.extend({headSearchHot:"#head-searchHot",searchForm:"#searchForm",searchkey:"#searchkey",searchBox:".head-search-box",searchContent:"#head-search-container",clearAll:"#head-seach-clearAll",shearchHis:"#head-shearch-end",hotList:"#head-hot-list",headHistory:"#head-history",headHotSearchs:".head-hot-searchs",CLASS:{SEARCH:"search-active",CONTENT:"search-content"},jsonp:!1,url:"/wholesale/listajax/hisPopuKeyWords.do",
clearUrl:"/wholesale/listajax/clearSearchKeyHis.do",Track:{his:"#listing_his-",hot:"#listing_hot-"}},b);this.init()};c.prototype={init:function(){this.active={isfocus:!1,ismouse:!1,isajax:!1};this.CLASS=this.options.CLASS;this.headSearchHot=$(this.options.headSearchHot);this.searchkey=$(this.options.searchkey);this.searchContent=$(this.options.searchContent);this.searchBox=$(this.options.searchBox);this.searchForm=$(this.options.searchForm);this.dataflag=!1;this.len=0;this.searchkey.on("focus",$.proxy(this.handleFocus,
this));this.searchkey.on("keydown",this.throttle($.proxy(this.handleKeydown,this)));this.searchkey.on("blur",$.proxy(this.handleBlur,this));this.searchContent.on("mouseenter",$.proxy(this.handleMouseover,this));this.searchContent.on("mouseleave",$.proxy(this.handleMouseout,this))},event:function(){this.headHotSearchs=$(this.options.headHotSearchs);this.clearAll=$(this.options.clearAll);this.shearchHis=$(this.options.shearchHis);this.hotList=$(this.options.hotList);this.headHistory=$(this.options.headHistory);
this.clearAll.on("click",$.proxy(this.handleclearAll,this))},handleFocus:function(b){b.stopPropagation();0< !this.searchkey.val().length&&(this.active.isfocus=!0,this.active.isajax?this.isShow():(this.request(),this.active.isajax=!0))},handleKeydown:function(b){b.stopPropagation();var c=this;setTimeout(function(){1<=c.searchkey.val().length?(c.active.isfocus=!1,c.active.ismouse=!1):(c.active.isfocus=!0,c.active.isajax||c.request());c.isShow()},0)},throttle:function(b,c){var h;return function(){var d=
arguments;h&&clearTimeout(h);var e=!h;h=setTimeout(function(){h=null},c);e&&b.apply(this,d)}},handleBlur:function(){this.active.isfocus=!1;this.isShow()},handleclearAll:function(b){b.stopPropagation();var c=this;g.request({url:c.options.clearUrl,type:"GET",success:function(){c.headHistory.html("")}})},handleHotClick:function(b){b.stopPropagation();b=b.target.innerText.replace(/\s/g,"+");var c=this.searchForm.attr("action").split("#")[0];formTracking=this.options.Track.hot+b;formTracking="undefined"===
typeof formTracking?"":formTracking;window.location.href=c+"?act=search&sus=&searchkey="+b+formTracking},handleHisClick:function(b){b.stopPropagation();window.location.href=formAction+"?act=search&sus=&searchkey="+hisCont+formTracking},handleMouseover:function(b){b.stopPropagation();this.active.ismouse=!0;this.isShow()},handleMouseout:function(b){var c=b.pageX;b=b.pageY;var h=this.headSearchHot,d=h.offset(),g=d.left,d=d.top,f=g+h.width(),h=d+h.height();c>g&&c<f&&b>d&&b<h||(this.active.ismouse=!1,
this.isShow())},request:function(){var b=this,c="";this.options.jsonp&&(c="jsonp");g.request({url:b.options.url,type:"GET",dataType:c,success:function(c){c=JSON.parse(c);if("success"===c.respStatus){var d=c.hotKeywords||{};b.searchBox.html(b.renderHistory(c.keyWordsSeachHis||{})+b.renderHot(d));b.isShow();b.event();b.active.isajax=!0;b.len=c.keyWordsSeachHis.length}},error:function(b){console.log(b)}})},renderHistory:function(b){var c="";0<b.length&&b?(c='<div class="head-history" id="head-history"><div class="head-seach-clearAll" id="head-seach-clearAll"><i class="head-seach-clear"></i>Clear All</div><h5 class="head-search-history">Search History</h5><ul class="head-shearch-end" id="head-shearch-end">',
$.each(b,function(b,d){c+="<li>"+d.linkUrl+"</li>"}),c+='</ul><i class="history-button-line"></i></div>'):this.searchBox.html("");return c},renderHot:function(b){var c="";0<b.length&&b?(c='<div class="head-hot-searchs"><div class="head-hot-searchs-top"><h5>Hot Searches</h5></div><ul class="head-hot-list" id="head-hot-list">',$.each(b,function(b,d){8>b&&(c+="<li><a href="+d.hotLinkUrl+">"+d.name+"</a></li>")}),c+="</ul></div>",this.dataflag=!0):this.searchBox.html("");return c},closeSeach:function(){this.headSearchHot.removeClass(this.CLASS.SEARCH)},
isShow:function(){this.dataflag&&(this.active.isfocus||this.active.ismouse?this.headSearchHot.addClass(this.CLASS.SEARCH):this.closeSeach())}};return c});
define("initHeader/categories",["common/config"],function(g){var c=function(b){this.SetOptions(b);this.allCategoriesAction=$("."+this.options.allCategoriesAction);this.navBrowseFylout=$("#"+this.options.navBrowseFylout);this.navCatsWarp=$("#"+this.options.navCatsWarp);this.navCats=$("#"+this.options.navCats);this.navSbucatUrl=this.options.navSbucatUrl;this.IE8=$.browser.msie&&"8.0"==$.browser.version;this.isFlod=this.options.isFlod;if(b=this.navBrowseFylout.attr("data-url"))this.navSbucatUrl=b;this.Init()};
c.prototype={SetOptions:function(b){this.options={navBrowseFylout:"navBrowseFylout",navCatsWarp:"navCatsWarp",navCats:"navCats",navSubcatsWarp:"navSubcatsWarp",allCategoriesAction:"nav-cateTitle",isFlod:0,navSbucatUrl:"//"+location.hostname+"/navsubcats-2014.html"};$.extend(this.options,b||{})},Init:function(){var b=this;this.navBrowseFylout.bind("mouseenter",$.proxy(b.InsertContent,b));this.InsertContent();this.allCategoriesAction.mouseenter(function(){b.Delay();b.onHide();b.navActive()});this.navBrowseFylout.mouseleave(function(c){b.Clear();
b.hiddenAll()});this.options.isFlod&&this.allCategoriesAction&&this.allCategoriesAction.addClass("nav-cateTitle2");$("div.nav-open").bind("mouseover",$.proxy(b.slideDown,b));var c="ar"==g.countryCur?0:213;this.navBrowseFylout.delegate(".navSubMoreBtn","click",function(){var b=$(this);b.parent().animate({scrollLeft:c},300,function(){c=c?0:213;"ar"==g.countryCur?0==c?b.children().removeClass("arrow-left"):b.children().addClass("arrow-left"):0==c?b.children().addClass("arrow-right"):b.children().removeClass("arrow-right")})})},
InsertContent:function(){var b=this;"activity"===g.wwwURL.split(".")[0].split("//")[1]&&"help"===g.wwwURL.split(".")[0].split("//")[1]||$.ajax({url:this.navSbucatUrl,type:"GET",dataType:"html",cache:"false",success:function(c){b.navBrowseFylout.append(c);b.NavInit();b.navBrowseFylout.unbind("mouseenter",b.InsertContent)}})},NavInit:function(){this.navSubcatsWarp=$("#"+this.options.navSubcatsWarp);var b=this,c=function(b,c){var d="c",f="c";b&&c&&(b.x<c.x1?d="l":b.x>c.x2&&(d="r"),b.y<c.y1?f="t":b.y>
c.y2&&(f="b"));return f+d},h=function(b,d){var f=0,h=b.cursor,e=b.priorCursors[0]||{},k=b.priorCursors[1]||{};if(h.x==e.x&&2>Math.abs(h.y-e.y)&&h.x>k.x)f=100;else{e=[h,e];switch(c(h,d)){case "tl":e.push({x:d.x1,y:d.y2},{x:d.x2,y:d.y1});break;case "bl":e.push({x:d.x1,y:d.y1},{x:d.x2,y:d.y2});break;case "cl":e.push({x:d.x1,y:d.y1},{x:d.x1,y:d.y2});break;default:e.push({x:0,y:0},{x:0,y:0}),f=-1}0==f&&(f=(e[2].x-e[1].x)*(e[3].y-e[1].y)-(e[3].x-e[1].x)*(e[2].y-e[1].y),h=((e[3].x-e[0].x)*(e[1].y-e[0].y)-
(e[1].x-e[0].x)*(e[3].y-e[0].y))/f,k=((e[1].x-e[0].x)*(e[2].y-e[0].y)-(e[2].x-e[0].x)*(e[1].y-e[0].y))/f,f=0<((e[2].x-e[0].x)*(e[3].y-e[0].y)-(e[3].x-e[0].x)*(e[2].y-e[0].y))/f&&0<h&&0<k?300:0)}return f},d=function(c,d){if(!(9<c&&0<$("#navCats li:hidden").length)&&(b.slideDown(),b.isFlod||b.navActive(),0!=$("#"+b.options.navCatsWarp+":visible").length)){var f=b.navSubcatsWarp;$subcat=$("#navSubcats"+c);$subcatChild=$subcat.children();$catWarp=b.navCatsWarp;$cat=$("#navCat"+c);f.css({display:"block",
visibility:"hidden"});$subcat.css({display:"block",visibility:"hidden"});k&&($("#navSubcats"+k).css({display:"none",visibility:"hidden"}),$("#navCat"+k).removeClass("cate-active"));var h=$catWarp.outerHeight("true"),e=0;b.IE8&&h--;for(var g=0;g<$subcatChild.length;g++)e+=parseInt($($subcatChild[g]).outerWidth("true"));$cat.addClass("cate-active");f.css({top:$catWarp.position().top-2,left:$catWarp.position().left+$catWarp.outerWidth()-2,visibility:"visible",width:e,height:h});$catWarp.removeClass("cateList-Shadow");
$subcat.css({visibility:"visible"});h=$subcat.offset();f=h.left;h=h.top-25;e=f+$subcat.outerWidth();g=h+$subcat.outerHeight()+25;return{x1:f,y1:h,x2:e,y2:g}}},g=function(){var b=[],c=[{x:0,y:0}],d=0,f=!1,h=function(){for(var b=[],f=1;3>f;f++)b.push(c[(d-f+3)%3]);return $.extend(!0,{},{cursor:c[d],priorCursors:b})},e=function(f){for(var e=0;e<b.length;e++){var g=b[e],k=0<$.grep(g.rects,function(b){return c[d].x>=b[0]&&c[d].y>=b[1]&&c[d].x<b[0]+b[2]&&c[d].y<b[1]+b[3]}).length;null!==g.inside&&k&&!g.inside&&
g.mouseEnter?g.inside=g.mouseEnter(h()):null!==g.inside&&!k&&g.inside&&g.mouseLeave&&(g.inside=!g.mouseLeave(f,h()))}},g=function(){$(window).scrollLeft();$(window).scrollTop();$(document).mousemove(function(b){d=(d+1)%3;c[d]={x:b.pageX,y:b.pageY};e()});f=!0};return{add:function(c,d){f||g();var h=$.extend({rects:c},d);b.push(h);return h},remove:function(c){for(var d=0;d<b.length;d++)if(b[d]===c){b.splice(d,1);break}},checkNow:function(){e(!0)},getCallbackArgs:function(){return h()}}}(),f,m,k,q,p=
[];this.navActive=function(){this.navCats.children("li").each(function(){var b=/^navCat(.+)/.exec(this.id),e=b?b[1]:"",b=$(this),l=b.offset(),b=g.add([[l.left,l.top,b.outerWidth(),b.outerHeight()]],{inside:!1,mouseEnter:function(b){clearTimeout(m);$("nav_cat_"+e).addClass("cate-active");if(k!==e){var l=h(b,f);if(k&&0<l){var p=function(){clearTimeout(m);var l=g.getCallbackArgs(),n;q&&q.x==l.cursor.x&&q.y==l.cursor.y?(n="cc"==c(l.cursor,f)?!1:!0,n=n?0:-1):n=h(l,f);q={x:l.cursor.x,y:l.cursor.y};0<n?
k!==e&&(m=setTimeout(p,n)):-1<n&&(f=d(e,b),k=e)};m=setTimeout(p,l)}else f=d(e,b),k=e}return!0},mouseLeave:function(b,c){$("#nav_cat_"+e).removeClass("nav_hover");return!0}});p.push(b)})};this.navActive();this.allCategoriesAction.mouseleave(function(){n();b.navActive()});var n=function(){clearTimeout(m);for(var c=0;c<p.length;c++)g.remove(p[c]);p=[];f=null;k&&($("#navSubcats"+k).css({display:"none",visibility:"hidden"}),$("#navCat"+k).removeClass("cate-active"));k=null;b.navSubcatsWarp.css({display:"none",
visibility:"visible"});b.navCatsWarp.addClass("cateList-Shadow")};this.onHide=n},Delay:function(){var b=this;b.timer=setTimeout(function(){b.navCatsWarp.css({display:"block"})},100)},Clear:function(){this.timer&&clearTimeout(this.timer)},hiddenAll:function(){this.isFlod&&this.navCatsWarp.css({display:"none"});this.navSubcatsWarp.css({display:"none"});this.onHide();this.navActive();this.slideUp()},slideDown:function(){var b=$("#navCatsWarp .nav-open");0<b.length&&(b.hide(),this.navCatsWarp.find("li.linone").removeClass("j-hide").show(),
this.navCatsWarp.removeClass("height300").css("height","423px"))},slideUp:function(){0<$("#navCatsWarp .nav-open").length&&($("#navCatsWarp .nav-open").show(),this.navCatsWarp.find("li.linone").addClass("j-hide").hide(),this.navCatsWarp.addClass("height300"),this.navCatsWarp.css("height","300px"))}};return c});
define("header/sonnav",[],function(){var g=function(c){this.option={navwrap:".j-nav-wrap",navbtn:".j-navbtn"};this.option=$.extend(this.option,c||{});this.$navwrap=$(this.option.navwrap);this.$navbtn=$(this.option.navbtn);this.initialize()};g.prototype={initialize:function(){this.initEvent()},initEvent:function(){this.$navwrap.delegate(this.option.navbtn,"mouseenter",$.proxy(this.showSon,this));this.$navwrap.delegate(this.option.navbtn,"mouseleave",$.proxy(this.hideSon,this))},showSon:function(c){$(c.currentTarget).find(".j-son-nav").show()},
hideSon:function(c){$(c.currentTarget).find(".j-son-nav").hide()}};return g});
define("initHeader/shopBy",[],function(){function g(c){this.options=$.extend({menuWrapper:".head-Shop-by",menuBtn:".head-Shop-by .head-shop",menuList:".head-Shop-by .head-Shop-List",activeCls:"head-active"},c);this.init()}g.prototype={init:function(){this.menuWrapper=$(this.options.menuWrapper);this.menuBtn=$(this.options.menuBtn);this.menuList=$(this.options.menuList);this.event()},event:function(){var c=this;$(c.menuWrapper).bind("mouseenter",function(){$(c.menuBtn).addClass("head-active");$(c.menuList).show()}).bind("mouseleave",
function(){$(c.menuBtn).removeClass("head-active");$(c.menuList).hide()})}};return g});
define("header/minicart",["common/config","lib/backbone","tools/dhgate.cookie"],function(g,c,b){function e(b,c,e){var d=b.offset(),h=d.left,d=d.top,g=h+(e?b.outerWidth():b.width());b=d+(e?b.outerHeight():b.height());c&&(c.width&&(g+=c.width),c.left&&(h-=c.left),c.top&&(d-=c.top),c.height&&(b+=c.height));return{left:h,top:d,right:g,bottom:b}}c=function(b){this.options=$.extend({el:"#el",trigger:"#J_MCartTrigger",triggerNum:".cart-nub",container:"#J_MCart",cartNum:".cartNum",loadingCls:".js-loading",
emptyCls:".js-empty",listCls:".js-list",loadmore:".js-cartmore",activeClass:"head-active",listEl:"#J_CartSingle",viewCart:".cart-pro-item",max:25,loading:".js-loading",uri:"//shoppingcart.dhgate.com/cart/minicart.do"},b||{});this.init()};c.prototype.init=function(){this.box=$(this.options.container);this.el=$(this.options.el);this.trigger=$(this.options.trigger);this.fs=!0;this.trackPre=$L(window.tversion||"hp1806");this.data=[];this.dataId="";this.listEl=$(this.options.listEl);this.listBox=$(this.options.listCls,
this.options.trigger);this.viewCart=$(this.options.viewCart);this.topCartTotalEl=$(this.options.triggerNum);this.jsloading=this.box.find(this.options.loading);this.bind()};c.prototype.bind=function(){var b=this,c=b.options.activeClass,g,f=!1,m=function(c){$(this);var d=c.pageX;c=c.pageY;var f=e(g,{height:50}),h=e(b.box);d>f.left&&d<f.right&&c>f.top&&c<f.bottom||d>h.left&&d<h.right&&c>h.top&&c<h.bottom||k()},k=function(){f=!1;b.box.hide();g.removeClass(c)};b.trigger.hover(function(d){f||($(this).addClass(c),
g=$(this),b.box.show(),b.login=DHCookieUtil.getcookie("b2b_b_t_v2")?1:0,b.total||b.request(!0),f=!0)},m);b.box.mouseleave(m);b.box.find(".head-close").click(k);var q=0;b.listBox.bind("scroll",function(){var c=$(this).scrollTop();if(!(c<q)){q=c;var d=$(this).children().height(),f=$(this).height();10>d-c-f&&b.request()}})};c.prototype.getData=function(b){var c=$.Deferred(),h=this;h.loading=1;h.showLoading();$.ajax({url:h.options.uri,type:"get",data:b,dataType:"jsonp",cache:!1,success:function(b){h.loading=
0;h.hideLoading();c.resolve(b)},error:function(){h.loading=0;h.hideLoading()}});return c.promise()};c.prototype.showLoading=function(){this.jsloading.show()};c.prototype.hideLoading=function(){this.jsloading.hide()};c.prototype.showViewCart=function(){this.box.removeClass("head-cart-prompt").addClass("head-cart-prolist");this.viewCart.show();html="ar"==g.countryCur?$L("DH_TEXT_1006")+' <span class="cartNum">'+this.total+"</span>"+(1<this.total?" "+$L("DH_TEXT_1007"):" "+$L("DH_TEXT_1007_1")):$L("DH_TEXT_1006")+
'( <span class="cartNum">'+this.total+"</span>"+(1<this.total?" "+$L("DH_TEXT_1007")+")":" "+$L("DH_TEXT_1007_1")+")");this.viewCart.find(".viewCart").html(html);this.topCartTotalEl.text(this.total)};c.prototype.showHintEmpty=function(b,c){this.box.removeClass("head-cart-prompt").removeClass("head-cart-prolist");c&&this.box.addClass(c);var d="<strong>"+$L("DH_TEXT_1011")+"</strong>";this.box.find(this.options.emptyCls).html(d+b).show()};c.prototype.request=function(b){var c=this;b={act:"pageload",
num:b?"":7,cartsid:$.cookie("b2b_cart_sid")};if(!c.loading){if(c.fs)try{_dhq.push(["setVar","pt","minicart"]),_dhq.push(["setVar","u1",location.protocol+"//"+location.hostname+c.options.uri+"?act="+b.act+"&num="+b.num+$("#pu1812-minicart-init")]),_dhq.push(["event","Public_S0003"])}catch(f){}else{b.num="";b.ext=c.dataId;try{_dhq.push(["setVar","pt","minicart"]),_dhq.push(["setVar","u1",location.protocol+"//"+location.hostname+c.options.uri+"?act="+b.act+"&num="+b.num+"&ext="+b.ext+$("#pu1812-minicart-viewmore")]),
_dhq.push(["event","Public_S0003"])}catch(f){}}this.box.find(this.options.emptyCls).hide();var e=c.listEl.find("li").length-1;this.box.width(e?400:224);0<e&&e>=c.total||$.when(c.getData(b)).done(function(b){if(!c.login&&1>b.result.length)return c.showHintEmpty("<p>"+$L("DH_TEXT_1012")+', <a style="color:#36c" rel="nofollow" href="https://secure.dhgate.com/usr/signin.do#'+c.trackPre+'-signin-cart">'+$L("common_siginin")+".</a></p>");if(1>b.result.length)return c.showHintEmpty("<p><strong>"+$L("DH_TEXT_1013")+
".</strong></p>","head-cart-prompt");c.total=b.total;c.box.width(400);c.listBox.css("overflow-x","hidden");6<b.result.length&&c.listBox.css({height:"488px",overflowY:"auto"});c.doHandler(b);c.showViewCart()})}};c.prototype.doHandler=function(b){b=this.buildHTML(b.result);this.jsloading.before(b)};c.prototype.buildHTML=function(b,c){for(var d=[],f=$("#pu1812_"),e=0,h=b.length;e<h&&!(h>this.options.max);e++){var g=b[e].link;try{var p=g.split("#"),g=p[0]+f+p[1]}catch(n){}this.dataId+=c?b[e].id+",":"";
this.data.push(b[e]);d.push(e<h-1?"<li>":'<li class="head-cart-bnones">');d.push('<div class="cart-pro-img"><a href="'+(b[e].isSoldOut?"javascript:;":g)+'"><img src="'+b[e].imgSrc+'" width="60" height="60"></a></div>');d.push('<div style="margin-left: 73px;">');d.push('<span class="cart-pro-name"><a href="'+(b[e].isSoldOut?"javascript:;":g)+'">'+b[e].title+"</a></span>");d.push('<span class="cart-pro-property">'+(b[e].attribute?b[e].attribute:"")+"</span>");d.push('<div class="clearfix">');b[e].isSoldOut?
d.push('<span class="cart-pro-piece3">Sold Out</span>'):(d.push('<span class="cart-pro-piece">'+b[e].total+" "+b[e].unit+"</span>"),d.push('<span class="cart-pro-piece2">US '+b[e].price+"</span>"));d.push("</div>");b[e].cutAmount&&0<b[e].cutAmount&&d.push('<div class="clearfix"><span class="cart-pro-pricedown"><span class="pricedown">US $'+b[e].cutAmount+"</span> LESS THAN BEFORE</span></div>");d.push("</div>");d.push("</li>")}return d.join("")};return c});
define("header/headdropdown",["lib/jquery","common/config"],function(){var g=function(c){this.SetOptions(c);this.topNav=$(this.options.topNav);this.ddButton=this.options.ddButton;this.ddList=this.options.ddList;this.removing=this.options.removing||0;this.actClass=this.options.activeClass;this.Init()};g.prototype={SetOptions:function(c){this.options={topNav:".top-Info",ddButton:"t-Merchant t-MyDHgate t-Community t-Help t-Language t-mobile".split(" "),ddList:"t-Merchant-List t-MyDHgate-List t-Community-List t-Help-List t-Language-List t-mobile-List".split(" "),
ddLanguage:["t-Language-List","t-mobile-List"],removing:0,activeClass:"t-active"};$.extend(this.options,c||{})},Init:function(){this.timer={};this.but={};this.list={};for(var c=0;c<this.ddButton.length;c++)0!=$("#"+this.ddButton[c]).length&&(this.timer[c]={},this.but[c]=$("#"+this.ddButton[c]),this.list[c]=$("#"+this.ddList[c]));this.Active()},Active:function(){var c=this,b;for(b in this.but)this.but[b][0].guid=b,this.list[b][0].guid=b,this.but[b].mouseenter(function(){var b=$(this);c.timer[this.guid]&&
clearTimeout(c.timer[this.guid]);b.addClass(c.actClass);c.list[this.guid].css({display:"block",left:b.offset().left-c.topNav.offset().left});for(var h=c.options.ddLanguage.length-1;0<=h;h--)if(c.list[this.guid].attr("id")==c.options.ddLanguage[h]){var d=c.list[this.guid].outerWidth(!0),g=b.outerWidth(!0),f=b.offset().left-c.topNav.offset().left;c.list[this.guid].css({left:f+g-d+c.removing})}}).mouseleave(function(){var b=this,h=$(this);c.timer[this.guid]=setTimeout(function(){h.removeClass(c.actClass);
c.list[b.guid].css({display:"none"})},50)}),this.list[b].mouseenter(function(){c.timer[this.guid]&&clearTimeout(c.timer[this.guid])}).mouseleave(function(){var b=this;c.timer[this.guid]=setTimeout(function(){c.but[b.guid].removeClass(c.actClass);c.list[b.guid].css({display:"none"})},50)})}};return g});
define("header/multilanguageentrance",["common/config","lib/backbone","tools/dhgate.cookie"],function(g,c,b){var e=b.DHCookieUtil,h=b.DHCookieConts,d={openStatus:{en:1,es:1,pt:1,ru:1,fr:1,de:1,it:1,tr:1,ar:1,ja:0,ko:0,hk:1,kr:1},allEntrances:[{url:"//www.dhgate.com/",code:"en",name:"English"},{url:"//es.dhgate.com/",code:"es",name:"Espa\u00f1ol"},{url:"//pt.dhgate.com/",code:"pt",name:"Portugu\u00eas"},{url:"//ru.dhgate.com/",code:"ru",name:"P\u0443\u0441\u0441\u043a\u0438\u0439"},{url:"//fr.dhgate.com/",
code:"fr",name:"Fran\u00e7ais"},{url:"//de.dhgate.com/",code:"de",name:"Deutsch"},{url:"//it.dhgate.com/",code:"it",name:"Italiano"},{url:"//tr.dhgate.com/",code:"tr",name:"T\u00fcrk\u00e7e"},{url:"//ja.dhgate.com/",code:"ja",name:"\u65e5\u672c\u8a9e"},{url:"//ko.dhgate.com/",code:"ko",name:"\ud55c\uad6d\uc758"},{url:"//hk.dhgate.com/",code:"hk",name:"HongKong"},{url:"//kr.dhgate.com/",code:"kr",name:"\ud55c\uad6d\uc5b4"},{url:"//ar.dhgate.com/",code:"ar",name:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"}],
CurrentCode:function(){return g.countryCur},languageFilter:function(){for(var b={ca:"fr",fr:"fr",es:"es",de:"de",it:"it",tr:"tr",mx:"es",ch:"de",cl:"es",br:"pt",be:"fr",pr:"es",co:"es",ru:"ru",ve:"es",pe:"es",ua:"ru",at:"de",pt:"pt",tp:"pt",ar:"ar",ao:"pt",lt:"ru",mz:"pt",uy:"es",lv:"ru",bo:"es","do":"es",nc:"fr",ee:"ru",pa:"es",cd:"fr",cm:"fr",ec:"es",mu:"fr",az:"ru",gt:"es",cr:"es",kz:"ru",by:"ru",md:"ru",ge:"ru",kr:"kr"},c=g.ipCountry,d=this.allEntrances,e=[],c=c.toLowerCase(),h=0;h<d.length;h++)d[h].code==
b[c]?e.splice(1,0,d[h]):e.push(d[h]);this.allEntrances=e},Filter:function(){this.languageFilter();for(var b=this.CurrentCode(),c=this.allEntrances,d=[],e=0,h=c.length;e<h;e++){var g=c[e].code.toLowerCase();this.openStatus[g]&&(b&&b!=g?d.push(c[e]):d.unshift(c[e]))}return d},InsertHtml:function(b,c,m){var f="gtag('event', 'google translate', {'event_category': 'HP','event_label': '"+g.countryCur+"'});";b=document.getElementById(b);c=document.getElementById(c);topNavR_ENHTML="";var l=this.Filter();
"cl"==this.CurrentCode()||"co"==this.CurrentCode()||"mx"==this.CurrentCode()||"pe"==this.CurrentCode()?e.addcookie("language","es",{domain:h.DOMAIN_ROOT,path:"/",expires:365}):e.addcookie("language",l[0].code,{domain:h.DOMAIN_ROOT,path:"/",expires:365});e.addcookie("intl_locale",l[0].code,{domain:h.DOMAIN_ROOT,path:"/",expires:365});if(m)m='<li class="t-Divider"></li><li id="t-Language" class="t-Language" page-type="1"><a href="javascript:;" rel="nofollow" translate-type="y">Translate</a></li>',topNavR_ENHTML=
'<div id="t-Language-List" class="t-Language-List only-g" ><div id="google_translate_element" translate-type="y" onclick="'+f+'"></div></div>';else{m='<li class="t-Divider"></li><li id="t-Language" class="t-Language" page-type="1"><a href="javascript:;" rel="nofollow" translate-type="y">'+l[0].name+'</a><i class="arr"></i></li>';topNavR_ENHTML='<div id="t-Language-List" class="t-Language-List" ><ul class="clearfix">';for(var p=1,n=l.length;p<n;p++)topNavR_ENHTML+='<li><a href="'+l[p].url+location.pathname.substring(1)+
location.search+"#ENpu-"+l[p].code+'" rel="nofollow">'+l[p].name+"</a></li>";topNavR_ENHTML+='</ul><div id="google_translate_element" translate-type="y" onclick="'+f+'"></div></div>'}c&&$(c).append(m);b&&$(b).append(topNavR_ENHTML);d=null}};return d});
define("header/searchsimulationselect",["common/config","lib/backbone"],function(g,c,b){g=function(b){this.SetOptions(b);this.catalogBox=$("#"+this.options.catalogBox);this.catalogWarp=$("#"+this.options.catalogWarp);this.catalog=$("#"+this.options.catalog);this.catalogId=$("#"+this.options.catalogId);this.catalogListBox=$("#"+this.options.catalogListBox);this.catalogListLi=$("#"+this.options.catalogListBox+" > ul > li").not(".sub-line");this.reverseCatalog=this.options.reverseCatalog;this.url=this.options.url;
this.isIE6=$.browser.version;this.Init()};g.prototype={SetOptions:function(b){this.options={catalogBox:"catalogBox",catalogWarp:"catalogWarp",catalog:"catalog",catalogId:"catalogId",catalogListBox:"catalogListBox",catalogList:"catalogList",url:null,reverseCatalog:[]};$.extend(this.options,b||{})},Init:function(){this.catalog.wrap('<div style="width:auto"></div>');this.OpenCatalogList();this.GetCatalogContent()},OpenCatalogList:function(){var b=this;this.__index=0;this.catalogBox.click(function(c){c.stopPropagation();
"none"==b.catalogListBox.css("display")?b.catalogListBox.css({display:"block"}):(b.catalogListBox.css({display:"none"}),b.HighlightDefaultStatus())})},AddOtherCatalog:function(){if(0!=this.reverseCatalog.length){for(var b="",c=0;c<this.reverseCatalog.length;c++)b+='<li catalogId="'+this.reverseCatalog[c][1]+'">'+this.reverseCatalog[c][0]+"</li>";this.catalogList.prepend(b)}},GetCatalogContent:function(){if(1!=this.GetCatalogContent.__index){var b=this;$.ajax({url:b.url,type:"GET",dataType:"jsonp",
cache:!1,success:function(c){b.catalogListBox.append(c.cate);b.catalogList=$("#"+b.options.catalogList);b.AddOtherCatalog();b.catalogListLi=$("#"+b.options.catalogListBox+" > ul > li").not(".sub-line");$(b.catalogListLi[0]).addClass("hover");b.SelectCatalog();b.ClickCatalogText();b.Close()}});this.GetCatalogContent.__index=1}},SelectCatalog:function(){for(var b=this,c=0;c<this.catalogListLi.length;c++)this.catalogListLi[c].__index=c,$(b.catalogListLi[c]).mouseover(function(){this.__index!=b.__index&&
($(this).addClass("hover"),$(b.catalogListLi[b.__index]).removeClass("hover"),b.__index=this.__index)})},ClickCatalogText:function(){"6.0"==this.isIE6&&this.IE6AddIframe();var b=this;$(this.catalogList).click(function(c){c=c.target;var d=$(c);"LI"!=c.nodeName||d.hasClass("sub-line")||(b.catalogWarp.css({width:"auto"}),b.catalog.text(d.text()),b.catalogId.val(d.attr("catalogId")))})},IE6AddIframe:function(){if(!this.catalogListBox.children("iframe")[0]){var b,c;b=this.catalogList.height()+2;c=this.catalogList.width()+
2;this.catalogListBox.append("<iframe></iframe>");this.catalogListBox.children("iframe").css({position:"absolute",top:0,left:0,opacity:0,"z-index":-1,height:b,width:c,border:0})}},HighlightDefaultStatus:function(){$(this.catalogListLi[0]).addClass("hover");this.__index&&($(this.catalogListLi[this.__index]).removeClass("hover"),this.__index=0)},Close:function(){var b=this;$(document).click(function(){"block"==b.catalogListBox.css("display")&&(b.catalogListBox.css({display:"none"}),b.HighlightDefaultStatus())})}};
return g});
define("tools/multilanguagelist",["common/config"],function(g){return{bi:"fr",rw:"fr",td:"fr",ci:"fr",mc:"fr",dj:"fr",ad:"fr",ne:"fr",cd:"fr",ml:"fr",gn:"fr",tg:"fr",cf:"fr",cg:"fr",ch:"fr",bj:"fr",mg:"fr",ga:"fr",fr:"fr",bf:"fr",lu:"fr",sn:"fr",km:"fr",ht:"fr",be:"fr",sv:"es",ec:"es",ni:"es",uy:"es",ar:"ar",bo:"es",py:"es",gq:"es",co:"es",cr:"es",cl:"es",mx:"es",pe:"es",es:"es",cu:"es",hn:"es",gt:"es",dm:"es",pa:"es",ve:"es",li:"de",de:"de",at:"de",it:"it",sm:"it",tr:"tr",ao:"pt",br:"pt",tl:"pt",
cv:"pt",pt:"pt",mz:"pt",gw:"pt",st:"pt",ee:"ru",md:"ru",tj:"ru",kg:"ru",ge:"ru",lt:"ru",kz:"ru",tm:"ru",az:"ru",ru:"ru",by:"ru",uz:"ru",ua:"ru",lv:"ru",am:"ru",kr:"kr"}});
define("initHeader/userinfo",["common/config","header/multilanguageentrance","tools/multilanguagelist","tools/dhgate.cookie"],function(g,c,b,e){function h(b,c,d){var f=b.offset(),e=f.left,f=f.top,h=e+(d?b.outerWidth():b.width());b=f+(d?b.outerHeight():b.height());c&&(c.width&&(h+=c.width),c.left&&(e-=c.left),c.top&&(f-=c.top),c.height&&(b+=c.height));return{left:e,top:f,right:h,bottom:b}}function d(b){this.options=$.extend({selector:{container:"#header",titleBox:"#nav-l-en",contentBox:"#top-Info",
userBox:"#top-userInfo",myDHgateBox:"#J_myDHgate_head",myDHgateTrigger:".-j-mydhgte-trigger"},url:{valid:g.hostWrite+"/mydhgate/valid_new.do",cart:"//shoppingcart.dhgate.com/cart/cartInfo.do"},hasLanguage:!1,requestData:{rc:1,needitem:1},multiJump:!1,onlyGoogleT:!1},b);this.init()}var l=window;d.prototype=$.extend(d.prototype,{init:function(){var b=this,d=this.options;this.container=$(d.selector.container);this.el_titleBox=$(d.selector.titleBox);this.el_contentBox=$(d.selector.contentBox);this.el_userBox=
$(d.selector.userBox);this.el_myDHBox=$(d.selector.myDHgateBox);this.el_myDHtrigger=$(d.selector.myDHgateTrigger);this.url=this.options.url;this.trackPre=window.tversion||"#pu1812";this.showCN();this.checkLogin(this.changeStatus);var e,g=function(c){var d=c.pageX;c=c.pageY;var f=h(e,{height:50}),g=h(b.el_myDHBox);d>f.left&&d<f.right&&c>f.top&&c<f.bottom||d>g.left&&d<g.right&&c>g.top&&c<g.bottom||l.call(this)},l=function(){e&&e.length&&e.removeClass("head-active");b.el_myDHBox.hide()};d.hasLanguage&&
c.InsertHtml("top-Info","nav-l-en",d.onlyGoogleT);this.container.delegate(d.selector.myDHgateTrigger,"mouseenter",function(){e=$(this);e.addClass("head-active");b.el_myDHBox.show()});this.container.delegate(d.selector.myDHgateTrigger,"mouseleave",g);this.el_myDHBox.mouseleave(g);this.el_myDHBox.delegate(".head-close","click",l);$("body").delegate(".j-multi-jump .close","click",$.proxy(this.closeJump,this));$("#header").delegate(".j-im-head","click",function(){window.open($(this).attr("data-url"),
"newwindow","top=0,left=0,toolbar=no,menubar=no,scrollbars=no, resizable=no,location=no")})},changeStatus:function(b){var c;b=b||{};c=this.bulidHtml(b);this.el_userBox.html(c.barStr).addClass(b.isLogin?"top-signin":"");1<c.navStr.length&&(this.el_myDHtrigger.find(".-j-uinfo-head").html($L("common_hi")+", <i> "+b.userName+"</i>"),this.el_myDHBox.html(c.navStr));this.changeCart(b);this.jumpMulti(b.IPCountry);var d=$("#top-Info").find(".t-coupon");c=DHCookieUtil.getcookie("b2b_buyer_lv")||"0";DH.request({url:"//www.dhgate.com/mydhgate/customer/check_show_state.do?activityType=6",
type:"GET",cache:!1,dataType:"jsonp",success:function(b){"200"==b.sys_state&&("1"==b.fc_show?d.show():d.hide())}});b.newBuyer||"0"==c?d.show():d.hide()},jumpMulti:function(c){c=c||"";var d=e.DHCookieUtil.getcookies("fet","multi"),f=b[c.toLowerCase()];c="//css.dhresource.com/buyer/jumpmulti/image/"+f+".jpg";"es"!=f&&b[f]&&"en"==g.countryCur&&1!=d&&this.options.multiJump&&(d="//"+f+".dhgate.com/"+location.pathname.substring(1)+location.search+"#en_multijumpbanner",d=['<div class="j-multi-jump">','<div style="height:60px; display:block; background:url('+
c+') no-repeat center top">','<a href="'+d+'" rel="nofollow" target="_self" style="position:absolute; width:100%; height:60px; top:0;"></a> ',"<span class=\"close\" style=\"cursor: pointer;position: absolute;top: 8px;right: 50px;background: url(//css.dhresource.com/buyer/jumpmulti/image/close.png) no-repeat;width: 45px;height: 45px;\" onclick=\"gtag('event', 'mulit-jump', {  'event_category': 'banner',  'event_label': 'close'});\"></span>","</div> ","</div>"],$("body").prepend(d.join("")))},closeJump:function(){$(".j-multi-jump").remove();
e.DHCookieUtil.addcookies("fet","multi",1,{domain:".dhgate.com",expires:365,path:"/"})},showCN:function(){var b=l.navigator,c,b=l.ActiveXObject?b.browserLanguage:b.language;if(0<document.cookie.length){var d=document.cookie.indexOf("dh_isChange=");-1!=d&&(d+=12,c=document.cookie.indexOf(";",d),-1==c&&(c=document.cookie.length),document.cookie.substring(d,c))}null!=b&&-1<b.toLowerCase().indexOf("zh-cn")&&(b='<li class="t-Merchant" id="t-Merchant"><a rel="nofollow" href="http://seller.dhgate.com#'+
this.trackPre+'-seller">\u5546\u6237\u9996\u9875</a><i class="arr"></i></li><li id="t-Divider" class="t-Divider"></li>',c=['<div id="t-Merchant-List" class="t-Merchant-List" style="display: none;">',"<ul>",'<li><a rel="nofollow" href="http://seller.dhgate.com/mydhgate/index.do#'+this.trackPre+'-seller-mydh">\u6211\u7684DHgate</a></li>','<li><a rel="nofollow" href="http://seller.dhgate.com/merchant/register/pageLoad.do#'+this.trackPre+'-seller-free">\u8f7b\u677e\u5f00\u5e97</a></li>','<li><a rel="nofollow" href="//help.dhgate.com/dhgate/sellerhelpcn.php#'+
this.trackPre+'-seller-helpcenter">\u5e2e\u52a9\u4e2d\u5fc3</a></li>','<li><a rel="nofollow" href="http://seller.dhgate.com/help/contactService.html#'+this.trackPre+'-seller-contactUs">\u8054\u7cfb\u5ba2\u670d</a></li>',"</ul>","</div>"],0<$(".t-coupon").length?$(".t-coupon").after(b):this.el_titleBox.prepend(b),this.el_contentBox.append(c.join("")))},checkLogin:function(b){var c=this,d={},e=$.extend({rc:1,needitem:1},c.options.requestData);b=b||function(){};DH.request({url:c.url.valid,data:e,type:"GET",
dataType:"jsonp",cache:!1,success:function(e){var f=e.login;d.isLogin=null==f||""==f||"null"==f?!1:!0;d.userName=f;d.nickName=e.cookieNickname;d.completed=e.completed||-1;d.message=e.unreadInbox;d.csMessage=e.unreadCsMessage;d.showEN=e.showEN;d.levelId=e.viplevelid;d.explevelId=e.explevelid;d.review=e.reviews;d.reviewShow=e.reviewChange;d.reviewFirst=0<e.reviewTip?!0:!1;d.IPCountry=e.b2b_ip_country;b.call(c,d);DH.request({url:c.url.cart,type:"GET",dataType:"jsonp",timeout:1E4,cache:!1,success:function(b){d.cartNum=
b.size;d.CartItemCodeList=b.itemcode;c.changeCart(d)},error:function(){}})},error:function(){b.call(c,{})}})},bulidHtml:function(b){var c=[],d=[],e="//www.dhgate.com/global/webim/index.html?lang="+g.countryCur;if(b.isLogin){d.push('<i class="head-close"></i><div class="head-title"><span class="title">'+$L("header_myDhgate")+"</span></div>");d.push('<ul class="head-MyDhgate-ul">');d.push('<li><a href="//dg.dhgate.com/mydhgate/index.do#'+this.trackPre+'-mydhgate-top">'+$L("header_myDhgate")+"</a></li>");
d.push('<li><a href="//dg.dhgate.com/buyerordmng/orderList/list.do?params.linkType=100#'+this.trackPre+'-myorder-mdh">'+$L("header_myOrders")+"</a></li>");d.push('<li><a href="//dg.dhgate.com/reviewweb/reviewlist.do#'+this.trackPre+'-review-mdh">'+$L("header_myReviews")+"</a></li>");d.push('<li><a data-url="'+e+"\" onclick=\"gtag('event', 'MyDH', {'event_category': 'HP','event_label': 'My Contacts'});\"  class=\"j-im-head\" href=\"javascript:;\">"+$L("header_Contacts")+"</a></li>");d.push('<li><a href="//dg.dhgate.com/messageweb/message.do?msgtype=001,002,003#'+
this.trackPre+'-msg-mdh" class="head-Messages">'+$L("header_myMessage")+(0<b.message?"<span>"+b.message:'<span class="head-Messages-no">0')+"</span></a></li>");d.push('<li><a href="//dg.dhgate.com/myaccount/coupon/coupon.do#'+this.trackPre+'-mycoupon-mdh">'+$L("header_myCoupons")+"</a></li>");d.push('<li><a href="//dg.dhgate.com/favorite/proddetaillist.do#mydh-head-favitem">'+$L("header_myFavorites")+"</a></li>");d.push('</ul><p class="head-MyDhgate-New head-MyDhgate-New2"></p><div class="head-MyDhgate-post"><a rel="nofollow" href="//dg.dhgate.com/wantitnow/usr/buyersourcing.do#'+
this.trackPre+'-post-mdh">'+$L("header_postBuying")+"</a><p>"+$L("header_help_you")+"</p></div>");d.push('<p class="head-MyDhgate-New head-MyDhgate-New2"></p><div class="head-MyDhgate-post"><a rel="nofollow" href="https://secure.dhgate.com/usr/logout.do#'+this.trackPre+'-signout-mdh">'+$L("common_siginout")+"</a></div>");c.push('<span class="top-hello">'+$L("common_hello")+",&nbsp;</span>");"ar"==g.countryCur?c.push('<strong class=""><span class="top-name" dir="rtl">'+b.userName+'</span><i class="icon16-'+
b.explevelId+'"></i></strong>&nbsp;'):c.push('<strong class=""><span class="top-name">'+b.userName+'</span><i class="icon16-'+b.explevelId+'"></i></strong>&nbsp;');c.push("(");c.push('<div class="t-imHaves"><a data-url="'+e+"\"  onclick=\"gtag('event', 'chat', {'event_category': 'HP','event_label': ''});\"  class=\"j-im-head\" href=\"javascript:;\"><span class=\"t-imHave\"></span><span class=\"\">"+$L("header_chat")+"</span></a>");c.push("</div>");if(0<b.review||0<b.message||0<b.csMessage)b.review&&
0<b.review&&(c.push('<div class="t-ordersHaves"><a href="//dg.dhgate.com/reviewweb/reviewlist.do?fbtype=1#'+this.trackPre+'-review-top"><span class="t-ordersHave">'+b.review+"</span></a>"),c.push("</div>")),b.message&&0<b.message&&c.push('<a href="//dg.dhgate.com/messageweb/message.do#'+this.trackPre+'-message-top"><span class="t-emialHave">'+b.message+"</span></a>"),b.csMessage&&0<b.csMessage&&c.push('<a href="//dg.dhgate.com/myaccount/csmsg/leavemsg.do?act=showListMsg#'+this.trackPre+'-csmessage-top"><span class="t-chatHave">'+
b.csMessage+"</span></a>");c.push(")&nbsp;");c.push('<a href="https://secure.dhgate.com/usr/logout.do#'+this.trackPre+'-signout-mdh" class="t-SignIn">'+$L("common_siginout")+"</a>")}else c.push($L("common_welcome")+'! <a href="https://secure.dhgate.com/usr/register.do#'+this.trackPre+'-joinfree" class="t-JoinFree" rel="nofollow">'+$L("common_joinFree")+"</a>"+$L("common_or")+' <a href="https://secure.dhgate.com/usr/signin.do#'+this.trackPre+'-signin" class="t-SignIn" rel="nofollow">'+$L("common_siginin")+
"</a>");return{barStr:c.join(""),navStr:d.join("")}},changeCart:function(b){var c=b.cartNum||0;b=b.CartItemCodeList;$(".head-cart .cart-nub").text(c);$("#cartnum").val(c);if(b&&""!=b){c=b.split(",");b=0;for(var d=c.length;b<d;b++)null!=c[b]&&2<c[b].length&&$('.cart[itemcodeid="'+c[b]+'"]').html("<a href='//shoppingcart.dhgate.com/cart/cart.do' >"+$L("common_goToCart")+"</a>")}}});return d});
define("initHeader/search",["common/config","initHeader/suggest"],function(g,c){var b=function(b){this.config={selector:{searchText:"#searchkey",catelog:"#catalogId",form:"#searchForm",subButton:"#searchBarButton"},formUrl:{key:"/wholesale/search.do",cate:"/wholesale/dirlist.do"},needDomain:!1,needAuto:!1};this.setOptions(b);this.events=this.constructor.events=$({});this.initialize()};b.prototype={initialize:function(){var b=this.config.selector;this.$form=$(b.form);this.$catelog=$(b.catelog);this.$searchText=
$(b.searchText);this.$button=$(b.subButton);this.setFormUrl();this.initEvents()},setOptions:function(b){this.config=$.extend(!0,this.config,b||{})},setFormUrl:function(){var b=this.config,c=b.formUrl;b.needDomain&&(c.key=g.hostRead+c.key,c.cate=g.hostRead+c.cate)},initEvents:function(){this.events.bind("header:search",$.proxy(this.search,this));this.$searchText.bind("keypress",$.proxy(this.enter,this));this.$button.bind("click",$.proxy(this.click,this));this.config.needAuto&&new c},click:function(b){this.events.trigger("header:search")},
search:function(){var b=this.config.formUrl,c=$.trim(this.$searchText.val()),d=this.$catelog.val(),g=this.$form.attr("action").split("#"),f=g[0],g=g[1],m=this.$searchText.attr("data-tip"),g="undefined"===typeof g?"":"#"+g;if(""==c||"I'm shopping for..."==c)if(this.$searchText.val(""),""==d||"999"==d){if(void 0===m)return alert($L("header_search_keyword")),!1;this.$searchText.val(m);f=b.key?b.key:f}else f=b.cate?b.cate:f;else f=b.key?b.key:f;this.$form.attr("action",f+g);this.$form.submit()},enter:function(b){var c=
this.$catelog.val(),d=$.trim(this.$searchText.val());if(13==b.keyCode){if(""==d||"I'm shopping for..."==d)if(this.$searchText.val(""),""==c||"999"==c)return alert($L("header_search_keyword")),!1;this.events.trigger("header:search")}}};return b});
define("initHeader/suggest",["common/config"],function(g){var c=function(b){"hk"!=g.countryCur&&this.autoComplete()};c.prototype={autoComplete:function(){$("#searchkey").autocomplete("/wholesale/searchTools.do?act=suggestKeywords&catalogLevel=2",{delay:300,minChars:1,cacheLength:11,onItemSelect:this.selectItem,onFindValue:this.findValue,formatItem:this.formatItem,autoFill:!1,matchCase:!1,matchSubset:!1,matchContains:!1,selectFirst:!1,scroll:!1,highlight:function(b,c){return b},filled:function(b,c){b[2]=
0==b[2]?void 0:b[2];var e=$("#catalogListBox"),d=e.find("li[catalogid="+(b[2]?b[2]:"")+"]");0==d.length?(e.find("ul").append('<li catalogid="'+b[2]+'" class="">'+b[3]+"</li>"),setTimeout(function(){e.find("li[catalogid="+(b[2]?b[2]:"")+"]").click();e.hide()},100)):(d.click(),e.hide())}});$("#searchkey").result(function(b,c,g){c&&(b=c[2],$("#catalogId").val(b&&0!=parseInt(b)?b:""),$("#searchBarButton").click())})},findValue:function(b){if(null==b)return alert("No match!")},selectItem:function(b){this.findValue(b)},
formatItem:function(b){var c="tr"==g.countryCur?b[2]?'&nbsp;<span class="catename">'+(0==b[2]?$L("header_search_allCate"):b[3])+'</span><input type="hidden" name="suggest-cate" value="'+b[2]+'" />':'<span class="count">'+(b[1]?"about <b>"+b[1]+"</b> results":"")+"</span>":b[2]?"&nbsp;"+$L("header_search_in")+'<span class="catename">'+(0==b[2]?$L("header_search_allCate"):b[3])+'</span><input type="hidden" name="suggest-cate" value="'+b[2]+'" />':'<span class="count">'+(b[1]?"about <b>"+b[1]+"</b> results":
"")+"</span>";return b=b[0]+c}};return c});
requirejs.config({baseUrl:"//js.dhresource.com/multi/src/",urlArgs:"33333333333",paths:{lib:"common/base",tools:"common/tools",ui:"common/ui",tpl:"common/tpl",header:"common/header",lang:"common/lang",favorite:"common/favorite",autocomplete:"common/widget/autocomplete",initHeader:"common/header/init-head"},shim:{"lib/backbone":{deps:["lib/underscore","lib/jquery"],exports:"Backbone"},"lib/underscore":{exports:"_"},"lib/jquery":{exports:"$"},"tools/jquery.cookie":{deps:["lib/jquery"],exports:"$cookie"},
autocomplete:["jquery"]}});requirejs(["initHeader/main"]);
define("initHeader/main","common/config common/langLoader common/feedback common/googletranslate common/share/webLinkShare tools/jquery.cookie initHeader/userinfo header/headdropdown header/searchsimulationselect header/minicart initHeader/search initHeader/suggest initHeader/favmodule initHeader/viewedmodule initHeader/history initHeader/categories header/sonnav initHeader/shopBy".split(" "),function(g,c,b,e,h,d,l,f,m,k,q,p,n,v,r,t,w,x){c.get(function(){function c(){return g.wwwURL.split(".")[0].split("//")[1]}$(function(){function d(){setTimeout(function(){h++;
100<h||("error"===$("#navBrowseFylout").find("title").html()?$("#navBrowseFylout div").last().remove():d())},20)}var h=0,m=$(window).width();new b({el:".topLayer",$goTop:".layerTop"});new k;new q({url:g.hostRead+"/wholesale/cate.do",needDomain:!0});window.SL&&$("#searchkey").val(SL.searchkey);var y="list";"activity"===c()||"help"===c()?y="helpAndAct":0<$(".nav-Warp").length?y="list":y="end";({list:function(){new t({isFlod:1});991>m&&$(".head-logo>span").show();$(window).resize(function(){991>$(window).width()&&
$(".head-logo>span").show()});"dg"===c()?new l({hasLanguage:!0,onlyGoogleT:!0}):new l({hasLanguage:!0});$(".head-Search-key").remove()},end:function(){$("#head-Warpauto").addClass("bor-bottom");0<$(".nav-mobile").length&&$(".dhflags").css("right","200px");"en"!=g.countryCur&&$("#navFav .nav-menu").css("width","143px");"hk"===c()?this.hk():($(".head-SearchBox").addClass("head-SearchBox-shop"),$(".head-Shop-by").show());0<$(".nav").length?new l({hasLanguage:!0,onlyGoogleT:!0}):new l({hasLanguage:!0})},
helpAndAct:function(){new l({hasLanguage:!0,onlyGoogleT:!0});new t;$("#navCatsWarp").remove();d()},hk:function(){0<$("#bimgContainer").length?($(".head-SearchBox").addClass("head-SearchBox-shop"),$(".head-Shop-by").show()):($(".head-SearchBox").removeClass("head-SearchBox-shop"),$(".head-Shop-by").hide())}})[y]();0<$("#header").length&&($("#header")[0].style.height="auto");new x;new e;new f({ddButton:"t-Merchant t-MyDHgate t-Community t-Help tn-help t-Contact".split(" "),ddList:"t-Merchant-List t-MyDHgate-List t-Community-List t-Help-List tn-help-list t-Contact-List".split(" "),
ddLanguage:[]});"dg"===c()||"activity"===c()||"help"===c()?(new n({isJSONP:!0}),new v({isJSONP:!0})):(new n,new v,new r,new p);0<$(".j-nav-wrap").length&&new w})})});
